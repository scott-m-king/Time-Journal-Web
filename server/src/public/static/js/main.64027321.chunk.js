(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{597:function(e,t,a){e.exports=a.p+"static/media/android_stock.560e2e8c.jpg"},658:function(e,t,a){e.exports=a(823)},664:function(e,t,a){},823:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),i=a(26),o=a(0),c=a.n(o),l=a(24),u=a.n(l),s=(a(664),a(23)),d="",m=function(e){d=e},p=function(){return d},g=a(566),f=a(609),b=a(570),E=a.n(b),h=a(10),y=a(67),v=a(53),O=a(44);function j(){var e=Object(O.a)(["\n    query Users {\n  users {\n    id\n    firstName\n    lastName\n    email\n  }\n}\n    "]);return j=function(){return e},e}function w(){var e=Object(O.a)(["\n    mutation updateUserTheme($theme: String!) {\n  updateUserTheme(theme: $theme) {\n    id\n    email\n    firstName\n    lastName\n    theme\n  }\n}\n    "]);return w=function(){return e},e}function x(){var e=Object(O.a)(["\n    mutation registerUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\n  registerUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\n    id\n    firstName\n    lastName\n    email\n  }\n}\n    "]);return x=function(){return e},e}function C(){var e=Object(O.a)(["\n    query Me {\n  me {\n    id\n    firstName\n    lastName\n    email\n    theme\n  }\n}\n    "]);return C=function(){return e},e}function k(){var e=Object(O.a)(["\n    mutation Logout {\n  logout\n}\n    "]);return k=function(){return e},e}function S(){var e=Object(O.a)(["\n    mutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    user {\n      id\n      firstName\n      lastName\n      email\n      theme\n    }\n    accessToken\n  }\n}\n    "]);return S=function(){return e},e}function I(){var e=Object(O.a)(["\n    query getAllUserEntries {\n  getAllUserEntries {\n    id\n    title\n    notes\n    duration\n    date\n    categoryId\n  }\n}\n    "]);return I=function(){return e},e}function A(){var e=Object(O.a)(["\n    mutation editEntry($id: Int!, $categoryId: Int!, $title: String!, $notes: String, $duration: Int!, $date: String!) {\n  editEntry(id: $id, categoryId: $categoryId, title: $title, duration: $duration, date: $date, notes: $notes) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return A=function(){return e},e}function N(){var e=Object(O.a)(["\n    mutation editCategory($categoryId: Int!, $updatedDescription: String!) {\n  editCategory(categoryId: $categoryId, updatedDescription: $updatedDescription) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return N=function(){return e},e}function T(){var e=Object(O.a)(["\n    mutation deleteEntry($idArray: [Int!]!) {\n  deleteEntry(idArray: $idArray) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return T=function(){return e},e}function U(){var e=Object(O.a)(["\n    mutation deleteCategory($categoryId: Int!) {\n  deleteCategory(categoryId: $categoryId) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return U=function(){return e},e}function D(){var e=Object(O.a)(["\n    mutation createEntry($categoryId: Int!, $title: String!, $notes: String, $duration: Int!, $date: String!) {\n  createEntry(categoryId: $categoryId, title: $title, notes: $notes, duration: $duration, date: $date) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return D=function(){return e},e}function $(){var e=Object(O.a)(["\n    mutation createCategory($description: String!) {\n  createCategory(description: $description) {\n    id\n    description\n    duration\n  }\n}\n    "]);return $=function(){return e},e}function L(){var e=Object(O.a)(["\n    query getUserCategories {\n  getUserCategories {\n    id\n    description\n    duration\n  }\n}\n    "]);return L=function(){return e},e}function q(){var e=Object(O.a)(["\n    mutation batchUploadJournalEntry($entryArray: [EntryInput!]!, $categoryArray: [String!]!) {\n  batchUploadJournalEntry(entryArray: $entryArray, categoryArray: $categoryArray) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return q=function(){return e},e}var M=Object(s.gql)(q());var F=Object(s.gql)(L());function z(e){return s.useQuery(F,e)}var B=Object(s.gql)($());var P=Object(s.gql)(D());function W(e){return s.useMutation(P,e)}var _=Object(s.gql)(U());var Q=Object(s.gql)(T());var R=Object(s.gql)(N());var H=Object(s.gql)(A());var Y=Object(s.gql)(I());function J(e){return s.useQuery(Y,e)}var V=Object(s.gql)(S());function G(e){return s.useMutation(V,e)}var X=Object(s.gql)(k());var K=Object(s.gql)(C());function Z(e){return s.useQuery(K,e)}var ee=Object(s.gql)(x());var te=Object(s.gql)(w());Object(s.gql)(j());var ae=a(484),ne=a(559),re=a(880),ie=a(93),oe=a(160),ce=a(885),le=a(140),ue=a(485),se=a(65),de=a(400),me=a(401),pe=a(402),ge=a(488),fe=a(877),be=a(487),Ee=a(84),he=a(25),ye=a(185),ve=a(871),Oe=a(75),je=a(897),we=a(606),xe=Object(ae.a)((function(e){return Object(ne.a)({cssOutlinedInput:{color:e.palette.text.primary},notchedOutline:{borderWidth:"1px",borderColor:"".concat(e.palette.primary.main)}})})),Ce=function(e){var t=Object.assign({},e),a=Object(se.d)(t),n=Object(h.a)(a,1)[0],r=Object(se.e)().setFieldValue,i=xe(),o=Object(he.a)(),l=o.palette.text.secondary,u=Object(ye.a)({overrides:{MuiOutlinedInput:{root:{position:"relative","&:hover:not($disabled):not($focused):not($error) $notchedOutline":{borderColor:l},"&$focused $notchedOutline":{borderColor:o.palette.primary.main,borderWidth:2}}},MuiFormLabel:{root:{"&$focused":{color:o.palette.primary.main}}},MuiPickersToolbar:{toolbar:{backgroundColor:o.palette.secondary.light}},MuiPickersDay:{daySelected:{backgroundColor:o.palette.secondary.main}},MuiSvgIcon:{root:{fill:l}}}});return c.a.createElement(ve.a,{theme:u},c.a.createElement(Oe.a,{utils:we.a},c.a.createElement(je.a,Object.assign({},n,{autoOk:!0,name:"date",inputVariant:"outlined",variant:"inline",format:"MM/dd/yyyy",fullWidth:!0,label:"Date",InputProps:{classes:{root:i.cssOutlinedInput,notchedOutline:i.notchedOutline}},InputLabelProps:{style:{color:o.palette.text.secondary}},onChange:function(e){return r(n.name,e)},margin:"normal",KeyboardButtonProps:{"aria-label":"change date"},InputAdornmentProps:{position:"start"}}))))},ke=a(90),Se=function(e){return{type:"SET_SELECTED_CATEGORY",payload:e}},Ie=function(e){return{type:"SET_ENTRY_TO_EDIT",payload:e}},Ae=a(872),Ne=a(875),Te=a(874),Ue=a(879),De=a(878),$e=function(e){var t,a=e.isOpen,n=e.setIsOpen,o=c.a.useState(""),l=Object(h.a)(o,2),u=l[0],d=l[1],m=s.useMutation(B,t),p=Object(h.a)(m,1)[0],g=function(){n(!1)},f=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==u){e.next=3;break}return alert("You must enter a name for your category"),e.abrupt("return");case 3:return e.prev=3,e.next=6,p({variables:{description:u},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:F,data:{getUserCategories:a.createCategory}})}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert(e.t0);case 11:g();case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(Ae.a,{open:a,onClose:g,"aria-labelledby":"form-dialog-title"},c.a.createElement(De.a,{id:"form-dialog-title"},"Create New Category"),c.a.createElement(Te.a,null,c.a.createElement(Ue.a,null,"To create a new category, enter the title below. This category will be initialized with 0 minutes and no entries."),c.a.createElement(be.a,{autoFocus:!0,margin:"dense",id:"description",label:"Category Title",type:"input",onChange:function(e){return d(e.target.value)},fullWidth:!0})),c.a.createElement(Ne.a,null,c.a.createElement(ue.a,{onClick:g,color:"primary"},"Cancel"),c.a.createElement(ue.a,{onClick:f,color:"primary"},"Add"))))};function Le(){var e=Object(O.a)(["\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n"]);return Le=function(){return e},e}var qe=Ee.b({duration:Ee.a().required("Duration must be filled out.").moreThan(0),title:Ee.d().required("Entry must have a title.")}),Me=Object(ae.a)((function(e){return Object(ne.a)({root:{textAlign:"center"},margin:{margin:e.spacing(1)},textField:{width:"25ch"},cssOutlinedInput:{"&$notchedOutline":{borderColor:"".concat(e.palette.primary.main)}},notchedOutline:{borderWidth:"1px",borderColor:"".concat(e.palette.primary.main)},selectBorder:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"".concat(e.palette.primary.main)}}})})),Fe=(Object(le.a)(Le()),function(e){var t=e.onSubmit,a=e.onEdit,n=Me(),c=o.useState([]),l=Object(h.a)(c,2),u=l[0],s=l[1],d=z(),m=d.data,p=d.loading,g=o.useState({date:(new Date).toDateString(),categoryId:1/0,duration:0,title:"",notes:""}),f=Object(h.a)(g,2),b=f[0],E=f[1],y=o.useState(!1),v=Object(h.a)(y,2),O=v[0],j=v[1],w=Object(ke.b)(),x=Object(ke.c)((function(e){return e.editEntry.editEntry})),C=o.useState(!1),k=Object(h.a)(C,2),S=k[0],I=k[1];o.useEffect((function(){!p&&m&&m.getUserCategories&&(s(m.getUserCategories),E({date:(new Date).toDateString(),categoryId:m.getUserCategories.reduce((function(e,t){return{description:"",duration:0,id:Math.max(e.id,t.id)}})).id,duration:0,title:"",notes:""}))}),[m]),o.useEffect((function(){x&&(E({date:x.date,categoryId:x.categoryId,duration:x.duration,title:x.title,notes:x.notes}),j(!0))}),[x,m]);var A=function(){j(!1),E({date:(new Date).toDateString(),categoryId:m.getUserCategories[0].id,duration:0,title:"",notes:""}),w(Ie(void 0))},N=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(x.id,t),A();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.createElement("div",null,o.createElement(se.c,{initialValues:b,validationSchema:qe,enableReinitialize:!0,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,n){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.setSubmitting,o=n.resetForm,i(!0),x?N(a):t(a),i(!1),o();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.setFieldValue,a=e.isSubmitting;return o.createElement(se.b,null,o.createElement("div",{className:n.root},o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Ce,{name:"date"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(de.a,{variant:"outlined",fullWidth:!0},o.createElement(me.a,null,"Category"),o.createElement(se.a,{name:"categoryId",label:"Category",onChange:function(e){e.target.value===1/0?(I(!0),t("categoryId",m.getUserCategories[0].id)):t("categoryId",e.target.value)},className:n.selectBorder,as:pe.a},u.map((function(e,t){return o.createElement(ge.a,{key:t,value:e.id},e.description," - ",e.duration," mins spent")})),o.createElement(ge.a,{value:1/0},"Add new category..."))))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(se.a,{type:"number",label:"Duration",name:"duration",InputProps:{endAdornment:o.createElement(fe.a,{position:"start"},"mins"),classes:{root:n.cssOutlinedInput,notchedOutline:n.notchedOutline}},fullWidth:!0,variant:"outlined",as:be.a}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(se.a,{label:"Title",name:"title",fullWidth:!0,variant:"outlined",InputProps:{classes:{root:n.cssOutlinedInput,notchedOutline:n.notchedOutline}},as:be.a}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(se.a,{label:"Additional notes (optional)",name:"notes",multiline:!0,fullWidth:!0,rows:7,variant:"outlined",InputProps:{classes:{root:n.cssOutlinedInput,notchedOutline:n.notchedOutline}},as:be.a}))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},O?o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:6},o.createElement(ue.a,{disabled:a,type:"submit",variant:"outlined",fullWidth:!0,color:"primary",style:{whiteSpace:"nowrap"}},"Edit Entry")),o.createElement(re.a,{item:!0,xs:6},o.createElement(ue.a,{disabled:a,onClick:A,variant:"outlined",color:"primary",fullWidth:!0},"Cancel"))):o.createElement(ue.a,{disabled:a,type:"submit",variant:"outlined",color:"primary"},"Add Entry")))))})),o.createElement($e,{isOpen:S,setIsOpen:I}))}),ze=a(579),Be=a(533),Pe=a(318),We=a.n(Pe),_e=function(e){var t=e.data,a=Object(he.a)(),n=Z(),r=(n.loading,n.data),i=Object(o.useState)([]),l=Object(h.a)(i,2),u=l[0],s=l[1],d=Object(o.useState)(!1),m=Object(h.a)(d,2),p=m[0],g=m[1],f={textColor:a.palette.text.primary},b=function(){return r&&r.me&&"light"===(null===r||void 0===r?void 0:r.me.theme)};return c.a.createElement(c.a.Fragment,null,t?c.a.createElement(ze.a,{data:t,theme:f,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,curve:"cardinal",axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"month",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"minutes",legendOffset:-40,legendPosition:"middle"},colors:p?u:{scheme:b()?"category10":"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,enableSlices:"x",sliceTooltip:function(e){var t=e.slice;return c.a.createElement(ce.a,{style:{padding:6,backgroundColor:b()?"white":Be.a[800]}},t.points.map((function(e,t){return c.a.createElement("div",{key:t,style:{padding:2,backgroundColor:b()?"white":Be.a[800],display:"flex",alignItems:"center"}},c.a.createElement(We.a,{style:{fontSize:12,color:e.serieColor}}),"\xa0\xa0",c.a.createElement("b",null,e.serieId),": ",e.data.yFormatted," mins")})))},pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!1,legends:[{anchor:"right",direction:"column",justify:!1,translateX:111,translateY:-50,itemsSpacing:4,itemDirection:"left-to-right",itemWidth:99,itemHeight:20,itemOpacity:.75,itemTextColor:a.palette.text.primary,symbolSize:9,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",onClick:function(e){if(p)g(!1);else{var a=t.map((function(t){return t.id===e.id?e.color:b()?"rgba(207, 216, 220, 0.4)":"rgba(144, 166, 178, 0.2)"}));s(a),g(!0)}},effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}):c.a.createElement(ie.a,{variant:"h6",style:{textAlign:"center",justifyContent:"center",paddingTop:20}},"No entries yet!"))},Qe=a(608),Re=a(832),He=a(834),Ye=a(887),Je=a(534),Ve=a(886),Ge=a(902),Xe=a(876),Ke=Object(ae.a)((function(e){return Object(ne.a)({root:{width:"100%"},inline:{display:"inline"},hover:{"&:hover":{backgroundColor:"rgba(144, 166, 178, 0.2)"}}})})),Ze=function(e){var t=e.categoryList,a=Ke(),n=Object(o.useState)([]),r=Object(h.a)(n,2),i=r[0],l=r[1],u=Object(o.useState)(0),s=Object(h.a)(u,2),d=s[0],m=s[1],p=Object(ke.b)();Object(o.useEffect)((function(){void 0!==t&&null!==t&&(t.length>=1&&t.length<=5&&l(t),t.length>=5&&l(Object(Qe.a)(t).sort((function(e,t){return e.duration>t.duration?-1:1})).slice(0,5)),m(t.reduce((function(e,t){return{id:0,description:"",duration:e.duration+t.duration}})).duration))}),[t]);return c.a.createElement("div",{style:{textAlign:"center"}},0===d?c.a.createElement(ie.a,{variant:"body1",style:{paddingTop:30}},"Log your first entry!"):t?c.a.createElement(Re.a,{className:a.root},i.map((function(e){return c.a.createElement(y.b,{key:e.id,to:"/ok/category_list",style:{textDecoration:"none"},onClick:function(){return function(e){var a=t.find((function(t){return t.id===e}));p(Se(a))}(e.id)}},c.a.createElement(et,{category:e,totalDuration:d}))}))):c.a.createElement(Xe.a,null))},et=function(e){var t=e.category,a=e.totalDuration,n=Ke(),r=Object(he.a)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(He.a,{alignItems:"flex-start",className:n.hover},c.a.createElement(Ve.a,null,c.a.createElement(Ge.a,{"aria-label":t.description,style:{backgroundColor:r.palette.secondary.main}},c.a.createElement("b",null,t.description.charAt(0).toUpperCase()))),c.a.createElement(Je.a,{primary:t.description,style:{color:r.palette.text.primary},secondary:c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary"},t.duration>=1440?"".concat(Math.floor(t.duration/1440)," days, "):"",Math.floor(t.duration%1440/60)," hours and"," ",t.duration%60," mins"),c.a.createElement("b",null," - "+Math.round(t.duration/a*100),"%")," ","of total time spent in this category")})),c.a.createElement(Ye.a,{variant:"inset",component:"li"}))},tt=a(89),at=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())).toISOString().slice(0,10)},nt=["January","February","March","April","May","June","July","August","September","October","November","December"],rt=function(e,t){var a=e.filter((function(e){return e.date.getMonth()===t}));return 1===a.length?a[0].duration:a.length>1?a.reduce((function(e,t){return{duration:e.duration+t.duration}})).duration:0},it=function(e,t){var a,n=[],r=[],i=Object(tt.a)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;n.push({id:o.id,date:new Date(o.date),categoryId:o.categoryId,duration:o.duration,title:o.title,notes:o.notes})}}catch(b){i.e(b)}finally{i.f()}var c,l=Object(tt.a)(t);try{for(l.s();!(c=l.n()).done;){var u=c.value;r.push(u)}}catch(b){l.e(b)}finally{l.f()}n.sort((function(e,t){return e.categoryId>t.categoryId?1:-1})),r.sort((function(e,t){return e.id>t.id?1:-1}));for(var s=[],d=0,m=0,p=r;m<p.length;m++){for(var g=p[m],f=[];d<n.length&&n[d].categoryId===g.id;)f.push({id:n[d].id,date:n[d].date,categoryId:n[d].categoryId,duration:n[d].duration,title:n[d].title,notes:n[d].notes}),d++;0!==f.length&&s.push(f)}return s},ot=function(e){for(var t=[],a=new Map,n=0;n<e.length;n++)a.has(e[n].date)?a.set(e[n].date,a.get(e[n].date)+e[n].duration):a.set(e[n].date,e[n].duration);return a.forEach((function(e,a){t.push({day:at(new Date(a)),value:e})})),t},ct=a(589),lt=a(540),ut=a(892),st=a(319),dt=a(890),mt=a(888),pt=a(399),gt=a(575),ft=a(889),bt=a(592),Et=a.n(bt),ht=a(3),yt=function(e){var t,a=e.isOpen,n=e.setIsOpen,o=e.category,l=s.useMutation(_,t),u=Object(h.a)(l,1)[0],d=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Uncategorized"!==o.description){e.next=3;break}return alert("You cannot delete the 'Uncategorized' category."),e.abrupt("return");case 3:return e.prev=3,e.next=6,u({variables:{categoryId:o.id},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:F,data:{getUserCategories:a.deleteCategory.categories}}),e.writeQuery({query:Y,data:{getAllUserEntries:a.deleteCategory.entries}})}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert("Entry could not be deleted. Error: "+e.t0);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){n(!1)};return c.a.createElement(Ae.a,{open:a,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(De.a,{id:"alert-dialog-title"},"Are you sure you want to delete the ".concat(o.description," category?")),c.a.createElement(Te.a,null,c.a.createElement(Ue.a,{id:"alert-dialog-description"},"This action will re-categorize all entries tagged with the"," ",c.a.createElement("b",null,o.description)," category to the 'Uncategorized' category and permanently delete this category.",c.a.createElement("br",null),c.a.createElement("br",null)," You currently have ",c.a.createElement("b",null,o.duration," minutes")," assigned to entries in this category which will be reassigned. ",c.a.createElement("br",null),c.a.createElement("br",null),"This action cannot be undone.")),c.a.createElement(Ne.a,null,c.a.createElement(ue.a,{onClick:m,color:"primary",autoFocus:!0},"No"),c.a.createElement(ue.a,{onClick:d,color:"primary"},"Yes")))},vt=function(e){var t,a=e.isOpen,n=e.setIsOpen,l=e.category,u=s.useMutation(R,t),d=Object(h.a)(u,1)[0],m=Object(o.useState)(""),p=Object(h.a)(m,2),g=p[0],f=p[1],b=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Uncategorized"!==l.description){e.next=3;break}return alert("You cannot delete the 'Uncategorized' category."),e.abrupt("return");case 3:return e.prev=3,e.next=6,d({variables:{categoryId:l.id,updatedDescription:g},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:F,data:{getUserCategories:a.editCategory.categories}}),e.writeQuery({query:Y,data:{getAllUserEntries:a.editCategory.entries}})}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert("Entry could not be edited. Error: "+e.t0);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){n(!1)};return c.a.createElement(Ae.a,{open:a,onClose:E,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(De.a,{id:"alert-dialog-title"},"Are you sure you want to edit the ".concat(l.description," category?")),c.a.createElement(Te.a,null,c.a.createElement(Ue.a,{id:"alert-dialog-description"},"Enter a name to change ",c.a.createElement("b",null,l.description,"'s")," title to:"),c.a.createElement(be.a,{autoFocus:!0,margin:"dense",id:"description",label:"Category Title",type:"input",onChange:function(e){return f(e.target.value)},fullWidth:!0}),c.a.createElement(Ue.a,{id:"alert-dialog-description2"},c.a.createElement("br",null),"This action will re-name the ",c.a.createElement("b",null,l.description)," category to"," ",c.a.createElement("b",null,g),c.a.createElement("br",null),c.a.createElement("br",null)," You currently have ",c.a.createElement("b",null,l.duration," minutes")," assigned to entries in this category. ",c.a.createElement("br",null),c.a.createElement("br",null),"This action cannot be undone.")),c.a.createElement(Ne.a,null,c.a.createElement(ue.a,{onClick:E,color:"primary",autoFocus:!0},"No"),c.a.createElement(ue.a,{onClick:b,color:"primary"},"Yes")))},Ot=Object(ae.a)((function(e){return Object(ne.a)({root:{"&:hover":{cursor:"pointer"}},title:{fontSize:25},pos:{marginBottom:12},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{}})})),jt=function(e){var t=Ot(),a=c.a.useState(null),n=Object(h.a)(a,2),r=n[0],i=n[1],l=c.a.useState(!1),u=Object(h.a)(l,2),s=u[0],d=u[1],m=c.a.useState(!1),p=Object(h.a)(m,2),g=p[0],f=p[1],b=c.a.useState(!1),E=Object(h.a)(b,2),y=E[0],v=E[1],O=Object(he.a)();Object(o.useEffect)((function(){var t;e.id===(null===(t=e.activeCategory)||void 0===t?void 0:t.id)?d(!0):d(!1)}),[e.activeCategory]);var j=e.duration/e.barDuration*100;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ce.a,{variant:"outlined",className:t.root,id:"card"},c.a.createElement(mt.a,{style:{background:"linear-gradient(90deg, ".concat(O.palette.primary.light," ").concat(Math.round(j),"%, ").concat(O.palette.background.paper," ").concat(Math.round(j),"%)")},avatar:c.a.createElement(Ge.a,{"aria-label":e.description,style:{backgroundColor:O.palette.secondary.main}},c.a.createElement("b",null,e.description.charAt(0).toUpperCase())),action:c.a.createElement("div",null,"Uncategorized"!==e.description?c.a.createElement("div",null,c.a.createElement(pt.a,{"aria-label":"more","aria-controls":"simple-menu","aria-haspopup":"true",color:"secondary",onClick:function(e){i(e.currentTarget)}},c.a.createElement(Et.a,null)),c.a.createElement(gt.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){i(null)}},c.a.createElement(ge.a,{onClick:function(){i(null),v(!0)}},"Edit"),c.a.createElement(ge.a,{onClick:function(){i(null),f(!0)}},"Delete"))):""),title:c.a.createElement("div",null,c.a.createElement(ie.a,{variant:"h5",className:Object(ht.default)(t.expand,Object(st.a)({},t.expandOpen,s)),onClick:function(){e.setActiveCategory({id:e.id,description:e.description,duration:e.duration})},"aria-expanded":s},e.description))}),c.a.createElement(ft.a,{in:s,timeout:"auto",unmountOnExit:!0},c.a.createElement(dt.a,null,c.a.createElement(ie.a,{variant:"body1",component:"p"},c.a.createElement("b",null,e.duration," mins")," spent in total"),c.a.createElement(ie.a,{variant:"body1",component:"p"},c.a.createElement("b",null,e.duration>=1440?"".concat(Math.floor(e.duration/1440)," days, "):"",Math.floor(e.duration%1440/60)," hours and"," ",e.duration%60," mins")," ","spent in total"),c.a.createElement(ie.a,{variant:"body1",component:"p"},c.a.createElement("b",null,(e.duration/e.totalDuration*100).toFixed(2),"%")," ","of total time spent in this category")))),c.a.createElement("div",null,g?c.a.createElement(yt,{isOpen:g,setIsOpen:f,category:e}):""),c.a.createElement("div",null,y?c.a.createElement(vt,{isOpen:y,setIsOpen:v,category:e}):""))},wt=function(e){var t=e.activeCategory,a=e.categoryList,n=e.setActiveCategory,r=Object(o.useState)(0),i=Object(h.a)(r,2),l=i[0],u=i[1],s=l-165,d=Object(o.useState)(0),m=Object(h.a)(d,2),p=m[0],g=m[1],f=Object(o.useState)(0),b=Object(h.a)(f,2),E=b[0],y=b[1],v=Object(o.useState)([]),O=Object(h.a)(v,2),j=O[0],w=O[1];Object(o.useEffect)((function(){window.addEventListener("resize",x),x()}),[]),Object(o.useEffect)((function(){if(a){var e=a.slice().sort((function(e,t){return e.duration>t.duration?-1:1}));w(e),g(e.map((function(e){return e.duration})).reduce((function(e,t){return e+t}))),y(e.map((function(e){return e.duration})).reduce((function(e,t){return Math.max(e,t)})))}}),[a]);var x=function(){u(window.innerHeight)};return c.a.createElement(re.a,{container:!0,spacing:1,style:{maxHeight:s,overflow:"auto"}},j.map((function(e){return c.a.createElement(re.a,{item:!0,xs:12,key:e.id},c.a.createElement(jt,{id:e.id,description:e.description,duration:e.duration,totalDuration:p,barDuration:E,setActiveCategory:n,activeCategory:t}))})))},xt=a(607),Ct=function(e){var t=e.activeCategory,a=e.categoryList,n=e.setActiveCategory,r=Object(o.useState)([]),i=Object(h.a)(r,2),l=i[0],u=i[1],s=Object(o.useState)([]),d=Object(h.a)(s,2),m=d[0],p=d[1],g=Object(o.useState)([]),f=Object(h.a)(g,2),b=f[0],E=f[1],y=Object(he.a)();Object(o.useEffect)((function(){if(a){var e=[];a.forEach((function(t){e.push({id:t.description,label:t.description,value:t.duration,color:""})})),E(a),p(e)}}),[a]),Object(o.useEffect)((function(){v(t?{id:t.description,label:t.description,value:t.duration,color:""}:void 0)}),[t,m]);var v=function(e){if(e){var t=[];m.forEach((function(a){a.id!==e.id&&t.push({match:{id:a.id.toString()},id:"unselected"})})),u(t)}else u([])};return c.a.createElement("div",{style:{height:450}},c.a.createElement(xt.a,{data:m,margin:{top:40,right:80,bottom:40,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"set2"},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:5,radialLabelsTextXOffset:6,radialLabelsTextColor:y.palette.text.primary,radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,defs:[{id:"unselected",type:"linearGradient",colors:[{offset:100,color:"#d6d6d6"}]}],fill:l,onClick:function(e){return function(e){var t=b.find((function(t){return t.description===e.id}));n(t)}(e)}}))},kt=a(535),St=a(539),It=a(538),At=a(891),Nt=a(536),Tt=a(537),Ut=function(e){var t=e.activeCategory,a=e.categories,n=e.entries,r=Object(o.useState)(0),i=Object(h.a)(r,2),l=i[0],u=i[1],s=l-683,d=Object(o.useState)([]),m=Object(h.a)(d,2),p=m[0],g=m[1],f=function(){if(a&&n)if(void 0===t){var e=[];n.forEach((function(t){var n;e.push({title:t.title,date:t.date,duration:t.duration,category:null===(n=a.find((function(e){return e.id===t.categoryId})))||void 0===n?void 0:n.description})})),g(e)}else{var r=[];n.filter((function(e){return e.categoryId===t.id})).forEach((function(e){r.push({title:e.title,date:e.date,duration:e.duration,category:t.description})})),g(r)}};Object(o.useEffect)((function(){window.addEventListener("resize",b),b(),f()}),[]),Object(o.useEffect)((function(){f()}),[t,a,n]);var b=function(){u(window.innerHeight)};return c.a.createElement("div",null,c.a.createElement(At.a,{component:oe.a,style:{maxHeight:s}},c.a.createElement(kt.a,{stickyHeader:!0,"aria-label":"simple table"},c.a.createElement(Nt.a,null,c.a.createElement(Tt.a,null,c.a.createElement(It.a,null,"Title"),c.a.createElement(It.a,{align:"right"},"Date"),c.a.createElement(It.a,{align:"right"},"Duration"),c.a.createElement(It.a,{align:"right"},"Category"))),c.a.createElement(St.a,null,p.map((function(e,t){return c.a.createElement(Tt.a,{key:t},c.a.createElement(It.a,{component:"th",scope:"row"},e.title),c.a.createElement(It.a,{align:"right"},e.date),c.a.createElement(It.a,{align:"right"},e.duration),c.a.createElement(It.a,{align:"right"},e.category))}))))))},Dt=a(593),$t=a.n(Dt),Lt=Object(ae.a)((function(e){return Object(ne.a)({root:{flexGrow:1},button:{margin:e.spacing(1),color:e.palette.text.primary}})})),qt=function(){var e=Lt(),t=Object(ke.c)((function(e){return e.activeCategory.selectedCategory})),a=Object(ke.c)((function(e){return e.calendarView.view})),n=J(),r=n.loading,i=n.data,l=z(),u=l.loading,s=l.data,d=Object(ke.b)(),m=Object(o.useState)(!1),p=Object(h.a)(m,2),g=p[0],f=p[1],b=function(e){!r&&!u&&t&&e.description!==t.description||!t?d(Se(e)):d(Se(void 0))};return c.a.createElement("div",{className:e.root},c.a.createElement(re.a,{container:!0,spacing:3},c.a.createElement(re.a,{item:!0,xs:3},c.a.createElement(ie.a,{variant:"h4"},"Categories")),c.a.createElement(re.a,{item:!0,xs:9,style:{textAlign:"right"}},c.a.createElement(ue.a,{variant:"outlined",className:e.button,color:"inherit",startIcon:c.a.createElement($t.a,null),onClick:function(){return f(!0)}},"Create New Category"),c.a.createElement($e,{isOpen:g,setIsOpen:f}))),c.a.createElement(re.a,{container:!0,spacing:3},c.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4},c.a.createElement(wt,{activeCategory:t,categoryList:null===s||void 0===s?void 0:s.getUserCategories,setActiveCategory:b})),c.a.createElement(re.a,{item:!0,xs:8,sm:8,md:8,lg:8,xl:8},c.a.createElement(lt.a,{control:c.a.createElement(ut.a,{checked:a,onChange:function(){d({type:"SET_CALENDAR_VIEW",payload:!a})}}),label:a?"Switch to Pie Chart":"Switch to Calendar"}),a?c.a.createElement(Mt,{activeCategory:t,entries:null===i||void 0===i?void 0:i.getAllUserEntries,maxHeight:450,start:"2020-02-01",end:"2021-12-31"}):c.a.createElement(Ct,{activeCategory:t,categoryList:null===s||void 0===s?void 0:s.getUserCategories,setActiveCategory:b}),c.a.createElement("br",null),c.a.createElement(Ut,{activeCategory:t,categories:null===s||void 0===s?void 0:s.getUserCategories,entries:null===i||void 0===i?void 0:i.getAllUserEntries}))))},Mt=function(e){var t=e.activeCategory,a=e.entries,n=e.maxHeight,r=e.start,i=e.end,l=Object(o.useState)([]),u=Object(h.a)(l,2),s=u[0],d=u[1],m=Z(),p=(m.loading,m.data),g=Object(he.a)(),f=function(){return p&&p.me&&"light"===(null===p||void 0===p?void 0:p.me.theme)},b={textColor:g.palette.text.primary,tooltip:{container:{background:f()?"white":Be.a[800]}}};Object(o.useEffect)((function(){if(void 0!==t&&a){var e=a.filter((function(e){return e.categoryId===t.id}));d(ot(e))}else a&&d(ot(a))}),[t,a]);return c.a.createElement("div",{style:{height:n}},c.a.createElement(ct.a,{data:s,theme:b,from:r,to:i,emptyColor:f()?"#eeeeee":Be.a[700],colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],margin:{top:40,right:40,bottom:40,left:40},yearSpacing:40,monthBorderColor:f()?"white":450===n?g.palette.background.default:g.palette.background.paper,dayBorderWidth:2,dayBorderColor:f()?"white":450===n?g.palette.background.default:g.palette.background.paper,onClick:function(e){e.value},legends:[{anchor:"bottom-right",direction:"row",translateY:36,itemCount:4,itemWidth:42,itemHeight:36,itemsSpacing:14,itemDirection:"right-to-left",itemTextColor:g.palette.text.primary}],tooltip:function(e){var t=e.color,a=e.day,n=e.value;return c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement(We.a,{style:{fontSize:12,color:t}}),"\xa0\xa0",a,":","\xa0",c.a.createElement("b",null,n," mins"))}}))},Ft=function(e){var t=e.numEntries,a=_t();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ce.a,{className:a.cards},c.a.createElement(dt.a,null,void 0!==t?c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.a,{variant:"h5",component:"h2",className:a.top},c.a.createElement("b",null,t)," Entries"),c.a.createElement(ie.a,{variant:"body2",component:"p",className:a.bot},"Entered in total")):c.a.createElement(Xe.a,null))))},zt=a(594),Bt=function(e){Object(zt.a)(e);var t=_t(),a=Object(o.useState)(""),n=Object(h.a)(a,2),r=n[0],i=n[1];Object(o.useEffect)((function(){l()}),[]);var l=function(){fetch("https://ranmoji.herokuapp.com/emojis/api/v.1.0/").then((function(e){e.json().then((function(e){i(String.fromCodePoint(parseInt(e.emoji.split("").slice(3,8).join(""),16)))}))}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ce.a,{className:t.cards},c.a.createElement(dt.a,null,c.a.createElement(ue.a,{size:"small",onClick:function(){l()}},c.a.createElement(ie.a,{variant:"h3"},r)),c.a.createElement(ie.a,{variant:"body2",component:"p"},"A random emoji to brighten your day"))))},Pt=function(e){var t=e.totalDuration,a=_t();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ce.a,{className:a.cards},c.a.createElement(dt.a,null,void 0!==t?c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.a,{variant:"h5",component:"h2",className:a.top},c.a.createElement("b",null,t)," minutes"),c.a.createElement(ie.a,{variant:"body2",component:"p",className:a.bot},"Logged in total")):c.a.createElement(Xe.a,null))))};function Wt(){var e=Object(O.a)(["\n  display: flex;\n  min-height: 100%;\n  min-width: 100%;\n"]);return Wt=function(){return e},e}var _t=Object(ae.a)((function(e){return Object(ne.a)({root:{flexGrow:1},cards:{textAlign:"center",height:115,whiteSpace:"nowrap"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},top:{marginTop:12},bot:{marginBottom:12},paper:{padding:e.spacing(2)},headers:{textAlign:"left",paddingLeft:20,paddingTop:15},widgets:{position:"absolute",width:"100%",height:"100%",paddingBottom:15}})})),Qt=le.b.div(Wt()),Rt=function(){var e,t=Z(),a=t.data,n=t.loading,l=_t(),u=W(),s=Object(h.a)(u,1)[0],d=J(),m=d.loading,p=d.data,g=z(),f=g.loading,b=g.data,E=Object(o.useState)([]),y=Object(h.a)(E,2),v=y[0],O=y[1],j=Object(o.useState)(void 0),w=Object(h.a)(j,2),x=w[0],C=w[1],k=Object(o.useState)(void 0),S=Object(h.a)(k,2),I=S[0],A=S[1];Object(o.useEffect)((function(){if(!m&&!f&&p&&p.getAllUserEntries&&b&&b.getUserCategories)if(O(function(e,t){if(0!==e.length){for(var a=it(e,t),n=[],r=function(e){for(var r={id:t.find((function(t){return t.id===a[e][0].categoryId})).description,color:"",data:[]},i=0;i<12;i++)r.data.push({x:nt[i],y:rt(a[e],i)});n.push(r)},i=0;i<a.length;i++)r(i);return n}}(p.getAllUserEntries,b.getUserCategories)),0===p.getAllUserEntries.length)A(0),C(0);else{var e=p.getAllUserEntries.reduce((function(e,t){return{title:"",id:0,date:"",notes:"",categoryId:0,duration:e.duration+t.duration}})).duration;A(e),C(p.getAllUserEntries.length)}}),[p,b,m,f]);var N=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{categoryId:t.categoryId,title:t.title,notes:t.notes,duration:t.duration,date:at(new Date(t.date))},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:F,data:{getUserCategories:a.createEntry.categories}}),e.writeQuery({query:Y,data:{getAllUserEntries:a.createEntry.entries}})}});case 3:if(e.sent){e.next=7;break}return alert("Failed to add."),e.abrupt("return");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement(Qt,null,c.a.createElement("div",{className:l.root},c.a.createElement(re.a,{container:!0,spacing:3},c.a.createElement(re.a,{item:!0,xs:12},n?"":c.a.createElement(ie.a,{variant:"h4"},"Welcome back, ",null===a||void 0===a||null===(e=a.me)||void 0===e?void 0:e.firstName)),c.a.createElement(re.a,{item:!0,xs:3,sm:3,md:3,lg:3,xl:3},c.a.createElement(oe.a,{className:l.paper},c.a.createElement(ie.a,{variant:"h6",component:"h4"},"Quick-add Journal Entry"),c.a.createElement(Fe,{onEdit:T,onSubmit:N}))),c.a.createElement(re.a,{item:!0,xs:9},c.a.createElement(re.a,{container:!0,spacing:3},c.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4,style:{textAlign:"center"}},c.a.createElement(Ft,{numEntries:x})),c.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4},c.a.createElement(Pt,{totalDuration:I})),c.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4},c.a.createElement(Bt,null)),c.a.createElement(re.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},c.a.createElement(ce.a,null,c.a.createElement(ie.a,{variant:"h6",component:"h4",className:l.headers},"Entries in 2020"),c.a.createElement("div",{style:{position:"relative",height:392}},c.a.createElement("div",{className:l.widgets},c.a.createElement(_e,{data:v}))))))),c.a.createElement(re.a,{item:!0,xs:8,sm:8,md:8,lg:8,xl:8},c.a.createElement(ce.a,null,c.a.createElement(ie.a,{variant:"h6",component:"h4",className:l.headers},"Entries per day"),c.a.createElement("div",{style:{position:"relative",height:273}},c.a.createElement("div",{className:l.widgets},c.a.createElement(Mt,{activeCategory:void 0,entries:null===p||void 0===p?void 0:p.getAllUserEntries,maxHeight:250,start:"2020-02-01",end:"2020-12-31"}))))),c.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4},c.a.createElement(ce.a,{style:{height:320,overflow:"auto"}},c.a.createElement(ie.a,{variant:"h6",component:"h4",className:l.headers},"Top 5 Categories"),c.a.createElement(Ze,{categoryList:null===b||void 0===b?void 0:b.getUserCategories}))))))},Ht=a(327),Yt=Ee.b({email:Ee.d().email().required("Email must be filled out."),password:Ee.d().required("Password must be filled out.")}),Jt=function(e){var t=e.placeholder,a=e.type,n=Object(Ht.a)(e,["placeholder","type"]),r=Object(se.d)(n),i=Object(h.a)(r,2),c=i[0],l=i[1],u=l.error&&l.touched?l.error:"";return o.createElement(be.a,Object.assign({label:t,variant:"outlined",fullWidth:!0,type:a||"text"},c,{error:""!==u,helperText:u}))},Vt=Object(ae.a)((function(e){return Object(ne.a)({root:{width:500},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),Gt=function(e){var t=e.onSubmit,a=Vt();return o.createElement(o.Fragment,null,o.createElement(se.c,{initialValues:{email:"",password:""},validationSchema:Yt,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.setSubmitting,n.resetForm,i(!0),t(a),i(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return o.createElement(se.b,null,o.createElement("div",{className:a.root},o.createElement(oe.a,{className:a.paper},o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Jt,{placeholder:"email",name:"email"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Jt,{placeholder:"password",name:"password",type:"password"}))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},o.createElement(ue.a,{disabled:t,type:"submit",variant:"outlined"},"Login"))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},o.createElement(y.b,{to:"/signup",style:{textDecoration:"none"}},"Sign Up"))))))})))},Xt=a(894),Kt=a(901),Zt=a(893),ea=a(486),ta=a(415),aa=a.n(ta),na=a(596),ra=a.n(na),ia=a(595),oa=a.n(ia),ca=Object(ae.a)((function(e){return Object(ne.a)({root:{display:"flex",flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,background:e.palette.secondary.light},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,paddingTop:6}})})),la=function(){var e,t=Z(),a=t.data,n=t.loading,l=s.useMutation(X,e),u=Object(h.a)(l,2),d=u[0],p=u[1].client,g=ca(),f=Object(o.useState)(!1),b=Object(h.a)(f,2),E=b[0],v=b[1],O=function(e){return s.useMutation(te,e)}(),j=Object(h.a)(O,1)[0],w=void 0;!n&&a&&a.me&&(w=a.me);var x=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!E){e.next=6;break}return e.next=4,C("light");case 4:e.next=8;break;case 6:return e.next=8,C("dark");case 8:v(!E),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!n&&a&&void 0!==a.me&&null!==a.me&&("light"===a.me.theme&&v(!1),"dark"===a.me.theme&&v(!0))}),[n]);var C=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({variables:{theme:t},update:function(e,t){var a=t.data;if(!a)return null;var n={id:a.updateUserTheme.id,email:a.updateUserTheme.email,firstName:a.updateUserTheme.firstName,lastName:a.updateUserTheme.lastName,theme:"light"===a.updateUserTheme.theme?"dark":"light"};e.writeQuery({query:K,data:{me:n}})}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:g.root},c.a.createElement(Zt.a,{position:"fixed",className:g.appBar},c.a.createElement(ea.a,null,c.a.createElement(ie.a,{variant:"h6",className:g.title},void 0!==w?c.a.createElement(y.b,{to:"/ok/dashboard",style:{textDecoration:"none",color:"white"}},c.a.createElement(aa.a,{fontSize:"large"})):c.a.createElement(y.b,{to:"/",style:{textDecoration:"none",color:"white"}},c.a.createElement(aa.a,{fontSize:"large"}))),void 0!==w?c.a.createElement(c.a.Fragment,null,E?c.a.createElement(oa.a,{color:"secondary"}):c.a.createElement(ra.a,{color:"inherit"}),c.a.createElement(ut.a,{checked:E,onChange:x}),c.a.createElement(ue.a,{variant:"contained",onClick:Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.next=4,p.resetStore();case 4:m(""),window.location.href="/";case 6:case"end":return e.stop()}}),e)})))},"Logout")):c.a.createElement(ue.a,{variant:"contained"},c.a.createElement(y.b,{to:"/login",style:{textDecoration:"none",color:"black"}},"Login")))))},ua=a(597),sa=a.n(ua);function da(){var e=Object(O.a)(["\n  height: 100vh;\n  width: 100vw;\n  padding-top: 20px;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]);return da=function(){return e},e}var ma=le.b.div(da()),pa=Object(ae.a)((function(e){return Object(ne.a)({gridContainer:{height:"100vh",background:"url(".concat(sa.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},gridItem:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw"},paper:{}})})),ga=function(e){var t=e.children,a=e.page,n=pa();return c.a.createElement(c.a.Fragment,null,c.a.createElement(la,null),c.a.createElement(Xt.a,null),c.a.createElement(ma,null,c.a.createElement(re.a,{container:!0,className:n.gridContainer},c.a.createElement(Kt.a,{only:["xs","sm","md"]},c.a.createElement(re.a,{item:!0,lg:6,xl:6,className:n.gridItem,style:{alignItems:"flex-start",overflowY:"scroll"}},c.a.createElement(re.a,{container:!0,direction:"column",alignItems:"center",spacing:4,style:{maxWidth:650,paddingTop:175,paddingBottom:175}},c.a.createElement(re.a,{item:!0},c.a.createElement(ie.a,{variant:"h1",style:{color:"white",textAlign:"center"}},"Time Journal")),c.a.createElement(re.a,{item:!0},c.a.createElement(ie.a,{variant:"h6",style:{color:"white",textAlign:"center"}},"An application to keep track of where you spend your time.")),c.a.createElement(re.a,{item:!0},c.a.createElement(ie.a,{variant:"body1",style:{color:"white",textAlign:"left"}},c.a.createElement("br",null),"Have you ever had a week go by and by the end of it, realize that you have no idea what you did that week? By keeping track of how we spend our time, we can take control of our actions to live more productive and well-balanced lives.",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("i",null,c.a.createElement("b",null,"Why Journaling?")),c.a.createElement("br",null)," Research has shown that journaling can have powerful mental health benefits and act as a documentation tool for everyday life. Time Journal takes journaling a step further by allowing you to record how much time you spend on the activities and organize them into meaningful categories."," ",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("i",null,c.a.createElement("b",null,"How does it work?")),c.a.createElement("br",null)," You will be able to create categories for your activities and see how much time you spend on each one. This application will combine common approaches to journaling and budgeting to create visibility into where your time goes.",c.a.createElement("br",null),c.a.createElement("br",null)))))),c.a.createElement(re.a,{item:!0,xs:12,sm:12,md:12,lg:6,xl:6,className:n.gridItem},c.a.createElement(re.a,{container:!0,direction:"column",alignItems:"center",spacing:4,style:{paddingBottom:30}},c.a.createElement(re.a,{item:!0},c.a.createElement(ie.a,{variant:"h4",style:{color:"white",maxWidth:600,textAlign:"center"}},a)),c.a.createElement(re.a,{item:!0},t))))))},fa=function(e){var t=e.history,a=G(),n=Object(h.a)(a,1)[0],o=function(){var e=Object(i.a)(r.a.mark((function e(a){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({variables:{email:a.email,password:a.password},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:K,data:{me:a.login.user}})}});case 3:(i=e.sent)&&i.data&&m(i.data.login.accessToken),t.push("/ok/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Invalid credentials.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(ga,{page:"Login"},c.a.createElement(Gt,{onSubmit:o}))},ba=Ee.b({firstName:Ee.d().required("First name must be filled out."),email:Ee.d().email().required("Email must be filled out."),password:Ee.d().required("Password must be filled out."),passwordRepeat:Ee.d().required("Please re-enter password.").oneOf([Ee.c("password"),""],"Passwords must match")}),Ea=function(e){var t=e.placeholder,a=e.type,n=Object(Ht.a)(e,["placeholder","type"]),r=Object(se.d)(n),i=Object(h.a)(r,2),c=i[0],l=i[1],u=l.error&&l.touched?l.error:"";return o.createElement(be.a,Object.assign({label:t,variant:"outlined",fullWidth:!0,type:a},c,{error:""!==u,helperText:u}))},ha=Object(ae.a)((function(e){return Object(ne.a)({root:{width:600},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),ya=function(e){var t=e.onSubmit,a=ha();return o.createElement("div",null,o.createElement(se.c,{initialValues:{firstName:"",lastName:"",password:"",passwordRepeat:"",email:""},validationSchema:ba,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=n.setSubmitting)(!0),t(a),i(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return o.createElement(se.b,null,o.createElement("div",{className:a.root},o.createElement(oe.a,{className:a.paper},o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Ea,{placeholder:"first name",name:"firstName"})),o.createElement(re.a,{item:!0,xs:!0},o.createElement(Ea,{placeholder:"last name",name:"lastName"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Ea,{placeholder:"email",name:"email"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Ea,{placeholder:"password",name:"password",type:"password"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Ea,{placeholder:"re-enter password",name:"passwordRepeat",type:"password"}))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},o.createElement(ue.a,{disabled:t,type:"submit",variant:"outlined"},"Sign up"))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},o.createElement(y.b,{to:"/login",style:{textDecoration:"none"}},"Back to Log In"))))))})))},va=function(e){var t,a=e.history,n=G(),o=Object(h.a)(n,1)[0],l=s.useMutation(ee,t),u=Object(h.a)(l,1)[0],d=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({variables:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password}});case 3:return e.next=5,o({variables:{email:t.email,password:t.password},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:K,data:{me:a.login.user}})}});case 5:(n=e.sent)&&n.data&&m(n.data.login.accessToken),a.push("/ok/dashboard"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(ga,{page:"Sign up"},c.a.createElement(ya,{onSubmit:d}))},Oa=a(112),ja=a(895),wa=a(601),xa=a.n(wa),Ca=a(598),ka=a.n(Ca),Sa=a(599),Ia=a.n(Sa),Aa=a(600),Na=a.n(Aa),Ta=Object(ae.a)((function(e){return Object(ne.a)({root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},link:{textDecoration:"none",color:e.palette.text.primary},iconic:{color:e.palette.secondary.main}})})),Ua=function(){var e=Ta(),t=Z(),a=t.data,n=t.loading,r=void 0;!n&&a&&a.me&&(r=a.me);var i=["/ok/dashboard"],o=["/ok/create_entry","/ok/category_list","/ok/settings"];return c.a.createElement("div",{className:e.root},c.a.createElement(Xt.a,null),n||void 0===r?"":c.a.createElement("div",null,c.a.createElement(Oa.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper}},c.a.createElement(ea.a,null),c.a.createElement("div",{className:e.drawerContainer},c.a.createElement(Re.a,null,["Dashboard"].map((function(t,a){return c.a.createElement(y.b,{to:i[a],className:e.link,key:a},c.a.createElement(He.a,{button:!0,key:a},c.a.createElement(ja.a,{className:e.iconic},c.a.createElement(xa.a,null)),c.a.createElement(Je.a,{primary:t})))}))),c.a.createElement(Ye.a,null),c.a.createElement(Re.a,null,["Journal Entries","Categories"].map((function(t,a){return c.a.createElement(y.b,{to:o[a],className:e.link,key:a},c.a.createElement(He.a,{button:!0,key:a},c.a.createElement(ja.a,{className:e.iconic},function(e){switch(e){case 0:return c.a.createElement(ka.a,null);case 1:return c.a.createElement(Ia.a,null);default:return c.a.createElement(Na.a,null)}}(a)),c.a.createElement(Je.a,{primary:t})))})))))))};function Da(){var e=Object(O.a)(["\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n"]);return Da=function(){return e},e}function $a(){var e=Object(O.a)(["\n  padding-top: 90px;\n  padding-left: 265px;\n  padding-right: 25px;\n  display: flex;\n  min-height: 100%;\n"]);return $a=function(){return e},e}var La=le.b.div($a()),qa=Object(le.a)(Da()),Ma=function(e){var t=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement(La,null,c.a.createElement(Xt.a,null),c.a.createElement(qa,null),t),c.a.createElement(Ua,null),c.a.createElement(la,null))},Fa=a(896),za=a(602),Ba=a.n(za),Pa=a(560),Wa=a(417),_a=a.n(Wa),Qa="#0a80cc",Ra="#D8EEFC",Ha="#F35B50",Ya=function(){var e,t=Object(o.useState)([]),a=Object(h.a)(t,2),n=a[0],l=a[1],u=Object(o.useState)([]),d=Object(h.a)(u,2),m=d[0],p=d[1],g=Object(o.useState)(void 0),f=Object(h.a)(g,2),b=f[0],E=f[1],v=J(),O=v.loading,j=v.data,w=z(),x=w.loading,C=w.data,k=s.useMutation(Q,e),S=Object(h.a)(k,1)[0],I=Object(ke.b)(),A=Object(ke.c)((function(e){return e.editEntry.editEntry})),N=Object(he.a)();Object(o.useEffect)((function(){E(A)}),[A]);var T=[{name:"Title",options:{filter:!0}},{name:"Date",options:{filter:!0}},{name:"Duration",options:{filter:!0}},{name:"Category",options:{filter:!0,customBodyRender:function(e,t,a){var n;return c.a.createElement(y.b,{to:"/ok/category_list",style:{textDecoration:"none"}},c.a.createElement(Pa.a,{color:"primary",style:{color:N.palette.text.primary},variant:"outlined",size:"small",label:null===(n=m.find((function(t){return parseInt(e)===t.id})))||void 0===n?void 0:n.description,onClick:function(){var t=m.find((function(t){return t.id===parseInt(e)}));I(Se(t))}}))}}},{name:"Additional Notes",options:{filter:!0}},{name:"Edit",options:{filter:!1,sort:!1,customBodyRender:function(e,t,a){return c.a.createElement("div",null,b&&parseInt(e)===b.id?c.a.createElement(pt.a,{"aria-label":"edit",size:"small"},c.a.createElement(_a.a,{style:{color:Ha}})):c.a.createElement(pt.a,{"aria-label":"edit",size:"small",onClick:function(){var t=j.getAllUserEntries.find((function(t){return parseInt(e)===t.id}));console.log(A),I(Ie(t))}},c.a.createElement(_a.a,{style:{color:N.palette.text.secondary}})))}}}],U=Object(o.useState)(!1),D=Object(h.a)(U,2),$=D[0],L=D[1],q={elevation:1,print:!1,onRowsDelete:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(L(!0),a=j.getAllUserEntries.slice().reverse(),n=[],i=0;i<t.data.length;i++)n.push(a[t.data[i].dataIndex].id);return e.next=6,M(n);case 6:L(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),textLabels:{body:{noMatch:"No entries found"}},customSort:function(e,t,a){switch(t){case 0:return e.sort((function(e,n){return(e.data[t].charAt(0).toUpperCase().charCodeAt(0)<n.data[t].charAt(0).toUpperCase().charCodeAt(0)?-1:1)*("desc"===a?1:-1)}));case 1:return e.sort((function(e,n){return(new Date(e.data[t]).getTime()<new Date(n.data[t]).getTime()?-1:1)*("desc"===a?1:-1)}));case 2:return e.sort((function(e,n){return(e.data[t]<n.data[t]?-1:1)*("desc"===a?1:-1)}));case 3:return e.sort((function(e,n){var r=e.data[t],i=n.data[t];return(m.find((function(e){return e.id===r})).description.charAt(0).toUpperCase().charCodeAt(0)<m.find((function(e){return e.id===i})).description.charAt(0).toUpperCase().charCodeAt(0)?-1:1)*("desc"===a?1:-1)}));default:return e.sort((function(e,n){return(e.data[t].length<n.data[t].length?-1:1)*("desc"===a?1:-1)}))}}},M=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({variables:{idArray:t},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:F,data:{getUserCategories:a.deleteEntry.categories}}),e.writeQuery({query:Y,data:{getAllUserEntries:a.deleteEntry.entries}})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!x&&C&&C.getUserCategories&&p(C.getUserCategories)}),[C]),Object(o.useEffect)((function(){B()}),[j]);var B=function(){if(!O&&j&&j.getAllUserEntries){var e=[];j.getAllUserEntries.map((function(t){var a=[];a.push(t.title),a.push(t.date),a.push(t.duration),a.push(t.categoryId),a.push(t.notes?t.notes:""),a.push(t.id),e.push(a)})),l(e.reverse())}},P=c.a.createElement("div",{style:{position:"absolute",zIndex:110,top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"rgba(255,255,255,0.8)"}},c.a.createElement(Xe.a,{size:24}));return c.a.createElement("div",{style:{position:"relative"}},$&&P,c.a.createElement(Ba.a,{title:"Entries",data:n,columns:T,options:q}))},Ja=a(900),Va=a(605),Ga=a.n(Va),Xa=a(604),Ka=a.n(Xa),Za=Object(ae.a)((function(e){return Object(ne.a)({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},button:{margin:e.spacing(1)}})})),en=function(){var e,t=Za(),a=Object(o.useState)(""),n=Object(h.a)(a,2),l=n[0],u=n[1],d=z(),m=d.loading,p=d.data,g=s.useMutation(M,e),f=Object(h.a)(g,1)[0];Object(o.useEffect)((function(){if(l&&!m&&p&&p.getUserCategories){for(var e=l.split(/\r\n|\r|\n/).join().split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/),t=0;t<e.length;t++){var a=e[t];if('"'===a.charAt(0)&&'"'===a.charAt(a.length-1)){var n,r=a.split('"'),i="",o=Object(tt.a)(r);try{for(o.s();!(n=o.n()).done;){var c=n.value;""!==c&&(i=i.concat(c))}}catch(y){o.e(y)}finally{o.f()}e[t]=i}}for(var u=[],s=0;s<e.length;){for(var d=[],g=0;g<6;g++,s++)d.push(e[s]);u.push(d)}for(var f=[],E=[],h=1;h<u.length;h++)f.push({id:0,title:u[h][0],date:at(new Date(u[h][1])),duration:parseInt(u[h][2]),categoryId:0,notes:u[h][4]}),E.push(u[h][3]);b(f,E)}}),[l]);var b=function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({variables:{entryArray:t,categoryArray:a},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:F,data:{getUserCategories:a.batchUploadJournalEntry.categories}}),e.writeQuery({query:Y,data:{getAllUserEntries:a.batchUploadJournalEntry.entries}})}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0+": this is on the frontend");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:t.root},c.a.createElement(ue.a,{variant:"outlined",color:"inherit",className:t.button,startIcon:c.a.createElement(Ka.a,null),component:"span",onClick:function(){window.open("https://drive.google.com/file/d/1AagfH70NXsyHZxFGfpxu2TMcC4wT-s9Y/view?usp=sharing")}},"Open Template"),c.a.createElement("input",{accept:".csv",className:t.input,id:"contained-button-file",multiple:!0,onChange:function(e){return function(e){if(e.currentTarget.files){var t=e.currentTarget.files[0],a=new FileReader;a.onload=function(){u(a.result)},a.readAsText(t)}}(e)},type:"file"}),c.a.createElement("label",{htmlFor:"contained-button-file"},c.a.createElement(ue.a,{variant:"outlined",color:"inherit",className:t.button,startIcon:c.a.createElement(Ga.a,null),component:"span"},"Upload CSV")))},tn=Object(ae.a)((function(e){return Object(ne.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",width:"100%",color:e.palette.text.secondary},button:{textAlign:"center"}})}));function an(e){return c.a.createElement(Ja.a,Object.assign({elevation:6,variant:"filled"},e))}var nn=function(){var e,t=tn(),a=W(),n=Object(h.a)(a,1)[0],o=s.useMutation(H,e),l=Object(h.a)(o,1)[0],u=c.a.useState(!1),d=Object(h.a)(u,2),m=d[0],p=d[1],g=function(){p(!0)},f=function(e,t){"clickaway"!==t&&p(!1)},b=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({variables:{categoryId:t.categoryId,title:t.title,notes:t.notes,duration:t.duration,date:at(new Date(t.date))},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:F,data:{getUserCategories:a.createEntry.categories}}),e.writeQuery({query:Y,data:{getAllUserEntries:a.createEntry.entries}})}});case 3:if(e.sent){e.next=7;break}return alert("Failed to add."),e.abrupt("return");case 7:g(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{id:t,categoryId:a.categoryId,title:a.title,notes:a.notes,duration:a.duration,date:at(new Date(a.date))},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:F,data:{getUserCategories:a.editEntry.categories}}),e.writeQuery({query:Y,data:{getAllUserEntries:a.editEntry.entries}})}});case 3:if(e.sent){e.next=7;break}return alert("Failed to edit."),e.abrupt("return");case 7:g(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:t.root},c.a.createElement(re.a,{container:!0,spacing:3},c.a.createElement(re.a,{item:!0,xs:3},c.a.createElement(ie.a,{variant:"h4"},"Journal Entries")),c.a.createElement(re.a,{item:!0,xs:9,style:{textAlign:"right"}},c.a.createElement(en,null)),c.a.createElement(re.a,{item:!0,xs:!0,sm:12,md:12,lg:3,xl:3},c.a.createElement(oe.a,{className:t.paper},c.a.createElement(Fe,{onSubmit:b,onEdit:E}))),c.a.createElement(re.a,{item:!0,xs:!0,sm:12,md:12,lg:9,xl:9},c.a.createElement(Ya,null))),c.a.createElement(Fa.a,{open:m,autoHideDuration:6e3,onClose:f},c.a.createElement(an,{onClose:f,severity:"success"},"Entry successfully added!")))},rn=a(541),on=Object(ye.a)({palette:{primary:{main:Qa,light:Ra},secondary:{main:Ha,light:Qa}}}),cn=Object(ye.a)({palette:{primary:{main:Be.a[100],light:rn.a[900]},secondary:{main:Be.a[200],light:rn.a[900]},background:{default:"#151C1F",paper:Be.a[900]},text:{primary:"#ffffff",secondary:Be.a[200]}}}),ln=function(){var e=Object(o.useState)(on),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Z(),i=r.loading,l=r.data;Object(o.useEffect)((function(){u()}),[l,i]);var u=function(){i||void 0===l||null===l.me||void 0===l.me||("light"===l.me.theme&&n(on),"dark"===l.me.theme&&n(cn))};return c.a.createElement(ve.a,{theme:a},c.a.createElement(y.a,null,c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"/"},c.a.createElement(v.a,{to:"/login"})),c.a.createElement(v.b,{path:"/login",component:fa}),c.a.createElement(v.b,{path:"/signup",component:va}),c.a.createElement(v.b,{path:"/ok/dashboard",render:function(){return c.a.createElement(Ma,null,c.a.createElement(Rt,null))}}),c.a.createElement(v.b,{path:"/ok/create_entry",render:function(){return c.a.createElement(Ma,null,c.a.createElement(nn,null))}}),c.a.createElement(v.b,{path:"/ok/category_list",render:function(){return c.a.createElement(Ma,null,c.a.createElement(qt,null))}}))))},un=function(){var e=Object(o.useState)(!0),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){fetch("/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(i.a)(r.a.mark((function e(t){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,i=a.accessToken,m(i),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),a?c.a.createElement("div",null,"loading..."):c.a.createElement(ln,null)},sn=a(153),dn=a(111),mn={selectedCategory:void 0},pn={editEntry:void 0},gn={view:!1},fn={theme:!1},bn=Object(sn.b)({activeCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_CATEGORY":return Object(dn.a)(Object(dn.a)({},e),{},{selectedCategory:t.payload});default:return e}},editEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ENTRY_TO_EDIT":return Object(dn.a)(Object(dn.a)({},e),{},{editEntry:t.payload});default:return e}},calendarView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CALENDAR_VIEW":return Object(dn.a)(Object(dn.a)({},e),{},{view:t.payload});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return Object(dn.a)(Object(dn.a)({},e),{},{theme:t.payload});default:return e}}}),En=Object(sn.c)(bn),hn=new s.InMemoryCache({}),yn=new s.ApolloLink((function(e,t){return new s.Observable((function(a){var n;return Promise.resolve(e).then((function(e){var t=p();t&&e.setContext({headers:{authorization:"bearer ".concat(t)}})})).then((function(){n=t(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})})).catch(a.error.bind(a)),function(){n&&n.unsubscribe()}}))})),vn=new s.ApolloClient({link:s.ApolloLink.from([new f.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=p();if(!e)return!0;try{var t=E()(e).exp;return!(Date.now()>=1e3*t)}catch(a){return!1}},fetchAccessToken:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/refresh_token",{method:"POST",credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleFetch:function(e){m(e)},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Object(g.a)((function(e){var t=e.graphQLErrors,a=e.networkError;console.log(t),console.log(a),t&&"Error: UNAUTHENTICATED"===t[0].message&&"/login"!==window.location.pathname&&"/signup"!==window.location.pathname&&(window.location.pathname="/")})),yn,new s.HttpLink({uri:"/graphql",credentials:"include"})]),cache:hn});u.a.render(c.a.createElement(ke.a,{store:En},c.a.createElement(s.ApolloProvider,{client:vn},c.a.createElement(un,null))),document.getElementById("root"))}},[[658,1,2]]]);
//# sourceMappingURL=main.64027321.chunk.js.map