(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{597:function(e,t,a){e.exports=a.p+"static/media/android_stock.560e2e8c.jpg"},658:function(e,t,a){e.exports=a(823)},664:function(e,t,a){},823:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),i=a(26),o=a(0),l=a.n(o),c=a(24),u=a.n(c),s=(a(664),a(23)),d="",m=function(e){d=e},p=function(){return d},g=a(566),f=a(609),b=a(570),h=a.n(b),E=a(10),y=a(67),v=a(53),w=a(44);function O(){var e=Object(w.a)(["\n    query Users {\n  users {\n    id\n    firstName\n    lastName\n    email\n  }\n}\n    "]);return O=function(){return e},e}function j(){var e=Object(w.a)(["\n    mutation updateUserTheme($theme: String!) {\n  updateUserTheme(theme: $theme) {\n    id\n    email\n    firstName\n    lastName\n    theme\n  }\n}\n    "]);return j=function(){return e},e}function x(){var e=Object(w.a)(["\n    mutation registerUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\n  registerUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\n    id\n    firstName\n    lastName\n    email\n  }\n}\n    "]);return x=function(){return e},e}function k(){var e=Object(w.a)(["\n    query Me {\n  me {\n    id\n    firstName\n    lastName\n    email\n    theme\n  }\n}\n    "]);return k=function(){return e},e}function C(){var e=Object(w.a)(["\n    mutation Logout {\n  logout\n}\n    "]);return C=function(){return e},e}function S(){var e=Object(w.a)(["\n    mutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    user {\n      id\n      firstName\n      lastName\n      email\n      theme\n    }\n    accessToken\n  }\n}\n    "]);return S=function(){return e},e}function I(){var e=Object(w.a)(["\n    query getAllUserEntries {\n  getAllUserEntries {\n    id\n    title\n    notes\n    duration\n    date\n    categoryId\n  }\n}\n    "]);return I=function(){return e},e}function A(){var e=Object(w.a)(["\n    mutation editEntry($id: Int!, $categoryId: Int!, $title: String!, $notes: String, $duration: Int!, $date: String!) {\n  editEntry(id: $id, categoryId: $categoryId, title: $title, duration: $duration, date: $date, notes: $notes) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return A=function(){return e},e}function N(){var e=Object(w.a)(["\n    mutation editCategory($categoryId: Int!, $updatedDescription: String!) {\n  editCategory(categoryId: $categoryId, updatedDescription: $updatedDescription) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return N=function(){return e},e}function T(){var e=Object(w.a)(["\n    mutation deleteEntry($idArray: [Int!]!) {\n  deleteEntry(idArray: $idArray) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return T=function(){return e},e}function U(){var e=Object(w.a)(["\n    mutation deleteCategory($categoryId: Int!) {\n  deleteCategory(categoryId: $categoryId) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return U=function(){return e},e}function D(){var e=Object(w.a)(["\n    mutation createEntry($categoryId: Int!, $title: String!, $notes: String, $duration: Int!, $date: String!) {\n  createEntry(categoryId: $categoryId, title: $title, notes: $notes, duration: $duration, date: $date) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return D=function(){return e},e}function $(){var e=Object(w.a)(["\n    mutation createCategory($description: String!) {\n  createCategory(description: $description) {\n    id\n    description\n    duration\n  }\n}\n    "]);return $=function(){return e},e}function L(){var e=Object(w.a)(["\n    query getUserCategories {\n  getUserCategories {\n    id\n    description\n    duration\n  }\n}\n    "]);return L=function(){return e},e}function q(){var e=Object(w.a)(["\n    mutation batchUploadJournalEntry($entryArray: [EntryInput!]!, $categoryArray: [String!]!) {\n  batchUploadJournalEntry(entryArray: $entryArray, categoryArray: $categoryArray) {\n    entries {\n      id\n      title\n      notes\n      duration\n      date\n      categoryId\n    }\n    categories {\n      id\n      description\n      duration\n    }\n  }\n}\n    "]);return q=function(){return e},e}var z=Object(s.gql)(q());var M=Object(s.gql)(L());function F(e){return s.useQuery(M,e)}var B=Object(s.gql)($());var W=Object(s.gql)(D());function P(e){return s.useMutation(W,e)}var H=Object(s.gql)(U());var R=Object(s.gql)(T());var _=Object(s.gql)(N());var J=Object(s.gql)(A());var Q=Object(s.gql)(I());function Y(e){return s.useQuery(Q,e)}var V=Object(s.gql)(S());function G(e){return s.useMutation(V,e)}var K=Object(s.gql)(C());var X=Object(s.gql)(k());function Z(e){return s.useQuery(X,e)}var ee=Object(s.gql)(x());var te=Object(s.gql)(j());Object(s.gql)(O());var ae=a(484),ne=a(559),re=a(880),ie=a(93),oe=a(160),le=a(885),ce=a(140),ue=a(485),se=a(65),de=a(400),me=a(401),pe=a(402),ge=a(488),fe=a(877),be=a(487),he=a(84),Ee=a(25),ye=a(185),ve=a(871),we=a(75),Oe=a(897),je=a(606),xe=Object(ae.a)((function(e){return Object(ne.a)({cssOutlinedInput:{color:e.palette.text.primary},notchedOutline:{borderWidth:"1px",borderColor:"".concat(e.palette.primary.main)}})})),ke=function(e){var t=Object.assign({},e),a=Object(se.d)(t),n=Object(E.a)(a,1)[0],r=Object(se.e)().setFieldValue,i=xe(),o=Object(Ee.a)(),c=o.palette.text.secondary,u=Object(ye.a)({overrides:{MuiOutlinedInput:{root:{position:"relative","&:hover:not($disabled):not($focused):not($error) $notchedOutline":{borderColor:c},"&$focused $notchedOutline":{borderColor:o.palette.primary.main,borderWidth:2}}},MuiFormLabel:{root:{"&$focused":{color:o.palette.primary.main}}},MuiPickersToolbar:{toolbar:{backgroundColor:o.palette.secondary.light}},MuiPickersDay:{daySelected:{backgroundColor:o.palette.secondary.main}},MuiSvgIcon:{root:{fill:c}}}});return l.a.createElement(ve.a,{theme:u},l.a.createElement(we.a,{utils:je.a},l.a.createElement(Oe.a,Object.assign({},n,{autoOk:!0,name:"date",inputVariant:"outlined",variant:"inline",format:"MM/dd/yyyy",fullWidth:!0,label:"Date",InputProps:{classes:{root:i.cssOutlinedInput,notchedOutline:i.notchedOutline}},InputLabelProps:{style:{color:o.palette.text.secondary}},onChange:function(e){return r(n.name,e)},margin:"normal",KeyboardButtonProps:{"aria-label":"change date"},InputAdornmentProps:{position:"start"}}))))},Ce=a(90),Se=function(e){return{type:"SET_SELECTED_CATEGORY",payload:e}},Ie=function(e){return{type:"SET_ENTRY_TO_EDIT",payload:e}},Ae=a(872),Ne=a(875),Te=a(874),Ue=a(879),De=a(878),$e=function(e){var t,a=e.isOpen,n=e.setIsOpen,o=l.a.useState(""),c=Object(E.a)(o,2),u=c[0],d=c[1],m=s.useMutation(B,t),p=Object(E.a)(m,1)[0],g=function(){n(!1)},f=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==u){e.next=3;break}return alert("You must enter a name for your category"),e.abrupt("return");case 3:return e.prev=3,e.next=6,p({variables:{description:u},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:M,data:{getUserCategories:a.createCategory}})}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert(e.t0);case 11:g();case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ae.a,{open:a,onClose:g,"aria-labelledby":"form-dialog-title"},l.a.createElement(De.a,{id:"form-dialog-title"},"Create New Category"),l.a.createElement(Te.a,null,l.a.createElement(Ue.a,null,"To create a new category, enter the title below. This category will be initialized with 0 minutes and no entries."),l.a.createElement(be.a,{autoFocus:!0,margin:"dense",id:"description",label:"Category Title",type:"input",onChange:function(e){return d(e.target.value)},fullWidth:!0})),l.a.createElement(Ne.a,null,l.a.createElement(ue.a,{onClick:g,color:"primary"},"Cancel"),l.a.createElement(ue.a,{onClick:f,color:"primary"},"Add"))))};function Le(){var e=Object(w.a)(["\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n"]);return Le=function(){return e},e}var qe=he.b({duration:he.a().required("Duration must be filled out.").moreThan(0),title:he.d().required("Entry must have a title.")}),ze=Object(ae.a)((function(e){return Object(ne.a)({root:{textAlign:"center"},margin:{margin:e.spacing(1)},textField:{width:"25ch"},cssOutlinedInput:{"&$notchedOutline":{borderColor:"".concat(e.palette.primary.main)}},notchedOutline:{borderWidth:"1px",borderColor:"".concat(e.palette.primary.main)},selectBorder:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"".concat(e.palette.primary.main)}}})})),Me=(Object(ce.a)(Le()),function(e){var t=e.onSubmit,a=e.onEdit,n=ze(),l=o.useState([]),c=Object(E.a)(l,2),u=c[0],s=c[1],d=F(),m=d.data,p=d.loading,g=o.useState({date:(new Date).toDateString(),categoryId:1/0,duration:0,title:"",notes:""}),f=Object(E.a)(g,2),b=f[0],h=f[1],y=o.useState(!1),v=Object(E.a)(y,2),w=v[0],O=v[1],j=Object(Ce.b)(),x=Object(Ce.c)((function(e){return e.editEntry.editEntry})),k=o.useState(!1),C=Object(E.a)(k,2),S=C[0],I=C[1];o.useEffect((function(){!p&&m&&m.getUserCategories&&(s(m.getUserCategories),h({date:(new Date).toDateString(),categoryId:m.getUserCategories.reduce((function(e,t){return{description:"",duration:0,id:Math.max(e.id,t.id)}})).id,duration:0,title:"",notes:""}))}),[m]),o.useEffect((function(){x&&(h({date:x.date,categoryId:x.categoryId,duration:x.duration,title:x.title,notes:x.notes}),O(!0))}),[x,m]);var A=function(){O(!1),h({date:(new Date).toDateString(),categoryId:m.getUserCategories[0].id,duration:0,title:"",notes:""}),j(Ie(void 0))},N=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(x.id,t),A();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.createElement("div",null,o.createElement(se.c,{initialValues:b,validationSchema:qe,enableReinitialize:!0,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,n){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.setSubmitting,o=n.resetForm,i(!0),x?N(a):t(a),i(!1),o();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.setFieldValue,a=e.isSubmitting;return o.createElement(se.b,null,o.createElement("div",{className:n.root},o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(ke,{name:"date"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(de.a,{variant:"outlined",fullWidth:!0},o.createElement(me.a,null,"Category"),o.createElement(se.a,{name:"categoryId",label:"Category",onChange:function(e){e.target.value===1/0?(I(!0),t("categoryId",m.getUserCategories[0].id)):t("categoryId",e.target.value)},className:n.selectBorder,as:pe.a},u.map((function(e,t){return o.createElement(ge.a,{key:t,value:e.id},e.description," - ",e.duration," mins spent")})),o.createElement(ge.a,{value:1/0},"Add new category..."))))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(se.a,{type:"number",label:"Duration",name:"duration",InputProps:{endAdornment:o.createElement(fe.a,{position:"start"},"mins"),classes:{root:n.cssOutlinedInput,notchedOutline:n.notchedOutline}},fullWidth:!0,variant:"outlined",as:be.a}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(se.a,{label:"Title",name:"title",fullWidth:!0,variant:"outlined",InputProps:{classes:{root:n.cssOutlinedInput,notchedOutline:n.notchedOutline}},as:be.a}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(se.a,{label:"Additional notes (optional)",name:"notes",multiline:!0,fullWidth:!0,rows:7,variant:"outlined",InputProps:{classes:{root:n.cssOutlinedInput,notchedOutline:n.notchedOutline}},as:be.a}))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},w?o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:6},o.createElement(ue.a,{disabled:a,type:"submit",variant:"outlined",fullWidth:!0,color:"primary",style:{whiteSpace:"nowrap"}},"Edit Entry")),o.createElement(re.a,{item:!0,xs:6},o.createElement(ue.a,{disabled:a,onClick:A,variant:"outlined",color:"primary",fullWidth:!0},"Cancel"))):o.createElement(ue.a,{disabled:a,type:"submit",variant:"outlined",color:"primary"},"Add Entry")))))})),o.createElement($e,{isOpen:S,setIsOpen:I}))}),Fe=a(579),Be=a(533),We=a(318),Pe=a.n(We),He=function(e){var t=e.data,a=Object(Ee.a)(),n=Z(),r=(n.loading,n.data),i=Object(o.useState)([]),c=Object(E.a)(i,2),u=c[0],s=c[1],d=Object(o.useState)(!1),m=Object(E.a)(d,2),p=m[0],g=m[1],f={textColor:a.palette.text.primary},b=function(){return r&&r.me&&"light"===(null===r||void 0===r?void 0:r.me.theme)};return l.a.createElement(l.a.Fragment,null,t?l.a.createElement(Fe.a,{data:t,theme:f,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,curve:"cardinal",axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"month",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"minutes",legendOffset:-40,legendPosition:"middle"},colors:p?u:{scheme:b()?"category10":"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,enableSlices:"x",sliceTooltip:function(e){var t=e.slice;return l.a.createElement(le.a,{style:{padding:6,backgroundColor:b()?"white":Be.a[800]}},t.points.map((function(e,t){return l.a.createElement("div",{key:t,style:{padding:2,backgroundColor:b()?"white":Be.a[800],display:"flex",alignItems:"center"}},l.a.createElement(Pe.a,{style:{fontSize:12,color:e.serieColor}}),"\xa0\xa0",l.a.createElement("b",null,e.serieId),": ",e.data.yFormatted," mins")})))},pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!1,legends:[{anchor:"right",direction:"column",justify:!1,translateX:111,translateY:-50,itemsSpacing:4,itemDirection:"left-to-right",itemWidth:99,itemHeight:20,itemOpacity:.75,itemTextColor:a.palette.text.primary,symbolSize:9,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",onClick:function(e){if(p)g(!1);else{var a=t.map((function(t){return t.id===e.id?e.color:b()?"rgba(207, 216, 220, 0.4)":"rgba(144, 166, 178, 0.2)"}));s(a),g(!0)}},effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}):l.a.createElement(ie.a,{variant:"h6",style:{textAlign:"center",justifyContent:"center",paddingTop:20}},"No entries yet!"))},Re=a(608),_e=a(832),Je=a(834),Qe=a(887),Ye=a(534),Ve=a(886),Ge=a(902),Ke=a(876),Xe=Object(ae.a)((function(e){return Object(ne.a)({root:{width:"100%"},inline:{display:"inline"},hover:{"&:hover":{backgroundColor:"rgba(144, 166, 178, 0.2)"}}})})),Ze=function(e){var t=e.categoryList,a=Xe(),n=Object(o.useState)([]),r=Object(E.a)(n,2),i=r[0],c=r[1],u=Object(o.useState)(0),s=Object(E.a)(u,2),d=s[0],m=s[1],p=Object(Ce.b)();Object(o.useEffect)((function(){void 0!==t&&null!==t&&(t.length>=1&&t.length<=5&&c(t),t.length>=5&&c(Object(Re.a)(t).sort((function(e,t){return e.duration>t.duration?-1:1})).slice(0,5)),m(t.reduce((function(e,t){return{id:0,description:"",duration:e.duration+t.duration}})).duration))}),[t]);return l.a.createElement("div",{style:{textAlign:"center"}},0===d?l.a.createElement(ie.a,{variant:"body1",style:{paddingTop:30}},"Log your first entry!"):t?l.a.createElement(_e.a,{className:a.root},i.map((function(e){return l.a.createElement(y.b,{key:e.id,to:"/ok/category_list",style:{textDecoration:"none"},onClick:function(){return function(e){var a=t.find((function(t){return t.id===e}));p(Se(a))}(e.id)}},l.a.createElement(et,{category:e,totalDuration:d}))}))):l.a.createElement(Ke.a,null))},et=function(e){var t=e.category,a=e.totalDuration,n=Xe(),r=Object(Ee.a)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(Je.a,{alignItems:"flex-start",className:n.hover},l.a.createElement(Ve.a,null,l.a.createElement(Ge.a,{"aria-label":t.description,style:{backgroundColor:r.palette.secondary.main}},l.a.createElement("b",null,t.description.charAt(0).toUpperCase()))),l.a.createElement(Ye.a,{primary:t.description,style:{color:r.palette.text.primary},secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(ie.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary"},t.duration>=1440?"".concat(Math.floor(t.duration/1440)," days, "):"",Math.floor(t.duration%1440/60)," hours and"," ",t.duration%60," mins"),l.a.createElement("b",null," - "+Math.round(t.duration/a*100),"%")," ","of total time spent in this category")})),l.a.createElement(Qe.a,{variant:"inset",component:"li"}))},tt=a(89),at=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())).toISOString().slice(0,10)},nt=["January","February","March","April","May","June","July","August","September","October","November","December"],rt=function(e,t){var a=e.filter((function(e){return e.date.getMonth()===t}));return 1===a.length?a[0].duration:a.length>1?a.reduce((function(e,t){return{duration:e.duration+t.duration}})).duration:0},it=function(e,t){var a,n=[],r=[],i=Object(tt.a)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;n.push({id:o.id,date:new Date(o.date),categoryId:o.categoryId,duration:o.duration,title:o.title,notes:o.notes})}}catch(b){i.e(b)}finally{i.f()}var l,c=Object(tt.a)(t);try{for(c.s();!(l=c.n()).done;){var u=l.value;r.push(u)}}catch(b){c.e(b)}finally{c.f()}n.sort((function(e,t){return e.categoryId>t.categoryId?1:-1})),r.sort((function(e,t){return e.id>t.id?1:-1}));for(var s=[],d=0,m=0,p=r;m<p.length;m++){for(var g=p[m],f=[];d<n.length&&n[d].categoryId===g.id;)f.push({id:n[d].id,date:n[d].date,categoryId:n[d].categoryId,duration:n[d].duration,title:n[d].title,notes:n[d].notes}),d++;0!==f.length&&s.push(f)}return s},ot=function(e){for(var t=[],a=new Map,n=0;n<e.length;n++)a.has(e[n].date)?a.set(e[n].date,a.get(e[n].date)+e[n].duration):a.set(e[n].date,e[n].duration);return a.forEach((function(e,a){t.push({day:at(new Date(a)),value:e})})),t},lt=a(589),ct=a(540),ut=a(892),st=a(319),dt=a(890),mt=a(888),pt=a(399),gt=a(575),ft=a(889),bt=a(592),ht=a.n(bt),Et=a(3),yt=function(e){var t,a=e.isOpen,n=e.setIsOpen,o=e.category,c=s.useMutation(H,t),u=Object(E.a)(c,1)[0],d=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Uncategorized"!==o.description){e.next=3;break}return alert("You cannot delete the 'Uncategorized' category."),e.abrupt("return");case 3:return e.prev=3,e.next=6,u({variables:{categoryId:o.id},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:M,data:{getUserCategories:a.deleteCategory.categories}}),e.writeQuery({query:Q,data:{getAllUserEntries:a.deleteCategory.entries}})}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert("Entry could not be deleted. Error: "+e.t0);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){n(!1)};return l.a.createElement(Ae.a,{open:a,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(De.a,{id:"alert-dialog-title"},"Are you sure you want to delete the ".concat(o.description," category?")),l.a.createElement(Te.a,null,l.a.createElement(Ue.a,{id:"alert-dialog-description"},"This action will re-categorize all entries tagged with the"," ",l.a.createElement("b",null,o.description)," category to the 'Uncategorized' category and permanently delete this category.",l.a.createElement("br",null),l.a.createElement("br",null)," You currently have ",l.a.createElement("b",null,o.duration," minutes")," assigned to entries in this category which will be reassigned. ",l.a.createElement("br",null),l.a.createElement("br",null),"This action cannot be undone.")),l.a.createElement(Ne.a,null,l.a.createElement(ue.a,{onClick:m,color:"primary",autoFocus:!0},"No"),l.a.createElement(ue.a,{onClick:d,color:"primary"},"Yes")))},vt=function(e){var t,a=e.isOpen,n=e.setIsOpen,c=e.category,u=s.useMutation(_,t),d=Object(E.a)(u,1)[0],m=Object(o.useState)(""),p=Object(E.a)(m,2),g=p[0],f=p[1],b=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Uncategorized"!==c.description){e.next=3;break}return alert("You cannot delete the 'Uncategorized' category."),e.abrupt("return");case 3:return e.prev=3,e.next=6,d({variables:{categoryId:c.id,updatedDescription:g},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:M,data:{getUserCategories:a.editCategory.categories}}),e.writeQuery({query:Q,data:{getAllUserEntries:a.editCategory.entries}})}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert("Entry could not be edited. Error: "+e.t0);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){n(!1)};return l.a.createElement(Ae.a,{open:a,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(De.a,{id:"alert-dialog-title"},"Are you sure you want to edit the ".concat(c.description," category?")),l.a.createElement(Te.a,null,l.a.createElement(Ue.a,{id:"alert-dialog-description"},"Enter a name to change ",l.a.createElement("b",null,c.description,"'s")," title to:"),l.a.createElement(be.a,{autoFocus:!0,margin:"dense",id:"description",label:"Category Title",type:"input",onChange:function(e){return f(e.target.value)},fullWidth:!0}),l.a.createElement(Ue.a,{id:"alert-dialog-description2"},l.a.createElement("br",null),"This action will re-name the ",l.a.createElement("b",null,c.description)," category to"," ",l.a.createElement("b",null,g),l.a.createElement("br",null),l.a.createElement("br",null)," You currently have ",l.a.createElement("b",null,c.duration," minutes")," assigned to entries in this category. ",l.a.createElement("br",null),l.a.createElement("br",null),"This action cannot be undone.")),l.a.createElement(Ne.a,null,l.a.createElement(ue.a,{onClick:h,color:"primary",autoFocus:!0},"No"),l.a.createElement(ue.a,{onClick:b,color:"primary"},"Yes")))},wt=Object(ae.a)((function(e){return Object(ne.a)({root:{"&:hover":{cursor:"pointer"}},title:{fontSize:25},pos:{marginBottom:12},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{}})})),Ot=function(e){var t=wt(),a=l.a.useState(null),n=Object(E.a)(a,2),r=n[0],i=n[1],c=l.a.useState(!1),u=Object(E.a)(c,2),s=u[0],d=u[1],m=l.a.useState(!1),p=Object(E.a)(m,2),g=p[0],f=p[1],b=l.a.useState(!1),h=Object(E.a)(b,2),y=h[0],v=h[1],w=Object(Ee.a)();Object(o.useEffect)((function(){var t;e.id===(null===(t=e.activeCategory)||void 0===t?void 0:t.id)?d(!0):d(!1)}),[e.activeCategory]);var O=e.duration/e.barDuration*100;return l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{variant:"outlined",className:t.root,id:"card"},l.a.createElement(mt.a,{style:{background:"linear-gradient(90deg, ".concat(w.palette.primary.light," ").concat(Math.round(O),"%, ").concat(w.palette.background.paper," ").concat(Math.round(O),"%)")},avatar:l.a.createElement(Ge.a,{"aria-label":e.description,style:{backgroundColor:w.palette.secondary.main}},l.a.createElement("b",null,e.description.charAt(0).toUpperCase())),action:l.a.createElement("div",null,"Uncategorized"!==e.description?l.a.createElement("div",null,l.a.createElement(pt.a,{"aria-label":"more","aria-controls":"simple-menu","aria-haspopup":"true",color:"secondary",onClick:function(e){i(e.currentTarget)}},l.a.createElement(ht.a,null)),l.a.createElement(gt.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){i(null)}},l.a.createElement(ge.a,{onClick:function(){i(null),v(!0)}},"Edit"),l.a.createElement(ge.a,{onClick:function(){i(null),f(!0)}},"Delete"))):""),title:l.a.createElement("div",null,l.a.createElement(ie.a,{variant:"h5",className:Object(Et.default)(t.expand,Object(st.a)({},t.expandOpen,s)),onClick:function(){e.setActiveCategory({id:e.id,description:e.description,duration:e.duration})},"aria-expanded":s},e.description))}),l.a.createElement(ft.a,{in:s,timeout:"auto",unmountOnExit:!0},l.a.createElement(dt.a,null,l.a.createElement(ie.a,{variant:"body1",component:"p"},l.a.createElement("b",null,e.duration," mins")," spent in total"),l.a.createElement(ie.a,{variant:"body1",component:"p"},l.a.createElement("b",null,e.duration>=1440?"".concat(Math.floor(e.duration/1440)," days, "):"",Math.floor(e.duration%1440/60)," hours and"," ",e.duration%60," mins")," ","spent in total"),l.a.createElement(ie.a,{variant:"body1",component:"p"},l.a.createElement("b",null,(e.duration/e.totalDuration*100).toFixed(2),"%")," ","of total time spent in this category")))),l.a.createElement("div",null,g?l.a.createElement(yt,{isOpen:g,setIsOpen:f,category:e}):""),l.a.createElement("div",null,y?l.a.createElement(vt,{isOpen:y,setIsOpen:v,category:e}):""))},jt=function(e){var t=e.activeCategory,a=e.categoryList,n=e.setActiveCategory,r=Object(o.useState)(0),i=Object(E.a)(r,2),c=i[0],u=i[1],s=c-165,d=Object(o.useState)(0),m=Object(E.a)(d,2),p=m[0],g=m[1],f=Object(o.useState)(0),b=Object(E.a)(f,2),h=b[0],y=b[1],v=Object(o.useState)([]),w=Object(E.a)(v,2),O=w[0],j=w[1];Object(o.useEffect)((function(){window.addEventListener("resize",x),x()}),[]),Object(o.useEffect)((function(){if(a){var e=a.slice().sort((function(e,t){return e.duration>t.duration?-1:1}));j(e),g(e.map((function(e){return e.duration})).reduce((function(e,t){return e+t}))),y(e.map((function(e){return e.duration})).reduce((function(e,t){return Math.max(e,t)})))}}),[a]);var x=function(){u(window.innerHeight)};return l.a.createElement(re.a,{container:!0,spacing:1,style:{maxHeight:s,overflow:"auto"}},O.map((function(e){return l.a.createElement(re.a,{item:!0,xs:12,key:e.id},l.a.createElement(Ot,{id:e.id,description:e.description,duration:e.duration,totalDuration:p,barDuration:h,setActiveCategory:n,activeCategory:t}))})))},xt=a(607),kt=function(e){var t=e.activeCategory,a=e.categoryList,n=e.setActiveCategory,r=Object(o.useState)([]),i=Object(E.a)(r,2),c=i[0],u=i[1],s=Object(o.useState)([]),d=Object(E.a)(s,2),m=d[0],p=d[1],g=Object(o.useState)([]),f=Object(E.a)(g,2),b=f[0],h=f[1],y=Object(Ee.a)();Object(o.useEffect)((function(){if(a){var e=[];a.forEach((function(t){e.push({id:t.description,label:t.description,value:t.duration,color:""})})),h(a),p(e)}}),[a]),Object(o.useEffect)((function(){v(t?{id:t.description,label:t.description,value:t.duration,color:""}:void 0)}),[t,m]);var v=function(e){if(e){var t=[];m.forEach((function(a){a.id!==e.id&&t.push({match:{id:a.id.toString()},id:"unselected"})})),u(t)}else u([])};return l.a.createElement("div",{style:{height:450}},l.a.createElement(xt.a,{data:m,margin:{top:40,right:80,bottom:40,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"set2"},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:5,radialLabelsTextXOffset:6,radialLabelsTextColor:y.palette.text.primary,radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,defs:[{id:"unselected",type:"linearGradient",colors:[{offset:100,color:"#d6d6d6"}]}],fill:c,onClick:function(e){return function(e){var t=b.find((function(t){return t.description===e.id}));n(t)}(e)}}))},Ct=a(535),St=a(539),It=a(538),At=a(891),Nt=a(536),Tt=a(537),Ut=function(e){var t=e.activeCategory,a=e.categories,n=e.entries,r=Object(o.useState)(0),i=Object(E.a)(r,2),c=i[0],u=i[1],s=c-683,d=Object(o.useState)([]),m=Object(E.a)(d,2),p=m[0],g=m[1],f=function(){if(a&&n)if(void 0===t){var e=[];n.forEach((function(t){var n;e.push({title:t.title,date:t.date,duration:t.duration,category:null===(n=a.find((function(e){return e.id===t.categoryId})))||void 0===n?void 0:n.description})})),g(e)}else{var r=[];n.filter((function(e){return e.categoryId===t.id})).forEach((function(e){r.push({title:e.title,date:e.date,duration:e.duration,category:t.description})})),g(r)}};Object(o.useEffect)((function(){window.addEventListener("resize",b),b(),f()}),[]),Object(o.useEffect)((function(){f()}),[t,a,n]);var b=function(){u(window.innerHeight)};return l.a.createElement("div",null,l.a.createElement(At.a,{component:oe.a,style:{maxHeight:s}},l.a.createElement(Ct.a,{stickyHeader:!0,"aria-label":"simple table"},l.a.createElement(Nt.a,null,l.a.createElement(Tt.a,null,l.a.createElement(It.a,null,"Title"),l.a.createElement(It.a,{align:"right"},"Date"),l.a.createElement(It.a,{align:"right"},"Duration"),l.a.createElement(It.a,{align:"right"},"Category"))),l.a.createElement(St.a,null,p.map((function(e,t){return l.a.createElement(Tt.a,{key:t},l.a.createElement(It.a,{component:"th",scope:"row"},e.title),l.a.createElement(It.a,{align:"right"},e.date),l.a.createElement(It.a,{align:"right"},e.duration),l.a.createElement(It.a,{align:"right"},e.category))}))))))},Dt=a(593),$t=a.n(Dt),Lt=Object(ae.a)((function(e){return Object(ne.a)({root:{flexGrow:1},button:{margin:e.spacing(1),color:e.palette.text.primary}})})),qt=function(){var e=Lt(),t=Object(Ce.c)((function(e){return e.activeCategory.selectedCategory})),a=Object(Ce.c)((function(e){return e.calendarView.view})),n=Y(),r=n.loading,i=n.data,c=F(),u=c.loading,s=c.data,d=Object(Ce.b)(),m=Object(o.useState)(!1),p=Object(E.a)(m,2),g=p[0],f=p[1],b=function(e){!r&&!u&&t&&e.description!==t.description||!t?d(Se(e)):d(Se(void 0))};return l.a.createElement("div",{className:e.root},l.a.createElement(re.a,{container:!0,spacing:3},l.a.createElement(re.a,{item:!0,xs:3},l.a.createElement(ie.a,{variant:"h4"},"Categories")),l.a.createElement(re.a,{item:!0,xs:9,style:{textAlign:"right"}},l.a.createElement(ue.a,{variant:"outlined",className:e.button,color:"inherit",startIcon:l.a.createElement($t.a,null),onClick:function(){return f(!0)}},"Create New Category"),l.a.createElement($e,{isOpen:g,setIsOpen:f}))),l.a.createElement(re.a,{container:!0,spacing:3},l.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4},l.a.createElement(jt,{activeCategory:t,categoryList:null===s||void 0===s?void 0:s.getUserCategories,setActiveCategory:b})),l.a.createElement(re.a,{item:!0,xs:8,sm:8,md:8,lg:8,xl:8},l.a.createElement(ct.a,{control:l.a.createElement(ut.a,{checked:a,onChange:function(){d({type:"SET_CALENDAR_VIEW",payload:!a})}}),label:a?"Switch to Pie Chart":"Switch to Calendar"}),a?l.a.createElement(zt,{activeCategory:t,entries:null===i||void 0===i?void 0:i.getAllUserEntries,maxHeight:450,start:"2020-02-01",end:"2021-12-31"}):l.a.createElement(kt,{activeCategory:t,categoryList:null===s||void 0===s?void 0:s.getUserCategories,setActiveCategory:b}),l.a.createElement("br",null),l.a.createElement(Ut,{activeCategory:t,categories:null===s||void 0===s?void 0:s.getUserCategories,entries:null===i||void 0===i?void 0:i.getAllUserEntries}))))},zt=function(e){var t=e.activeCategory,a=e.entries,n=e.maxHeight,r=e.start,i=e.end,c=Object(o.useState)([]),u=Object(E.a)(c,2),s=u[0],d=u[1],m=Z(),p=(m.loading,m.data),g=Object(Ee.a)(),f=function(){return p&&p.me&&"light"===(null===p||void 0===p?void 0:p.me.theme)},b={textColor:g.palette.text.primary,tooltip:{container:{background:f()?"white":Be.a[800]}}};Object(o.useEffect)((function(){if(void 0!==t&&a){var e=a.filter((function(e){return e.categoryId===t.id}));d(ot(e))}else a&&d(ot(a))}),[t,a]);return l.a.createElement("div",{style:{height:n}},l.a.createElement(lt.a,{data:s,theme:b,from:r,to:i,emptyColor:f()?"#eeeeee":Be.a[700],colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],margin:{top:40,right:40,bottom:40,left:40},yearSpacing:40,monthBorderColor:f()?"white":450===n?g.palette.background.default:g.palette.background.paper,dayBorderWidth:2,dayBorderColor:f()?"white":450===n?g.palette.background.default:g.palette.background.paper,onClick:function(e){e.value},legends:[{anchor:"bottom-right",direction:"row",translateY:36,itemCount:4,itemWidth:42,itemHeight:36,itemsSpacing:14,itemDirection:"right-to-left",itemTextColor:g.palette.text.primary}],tooltip:function(e){var t=e.color,a=e.day,n=e.value;return l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(Pe.a,{style:{fontSize:12,color:t}}),"\xa0\xa0",a,":","\xa0",l.a.createElement("b",null,n," mins"))}}))},Mt=function(e){var t=e.numEntries,a=Ht();return l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{className:a.cards},l.a.createElement(dt.a,null,void 0!==t?l.a.createElement(l.a.Fragment,null,l.a.createElement(ie.a,{variant:"h5",component:"h2",className:a.top},l.a.createElement("b",null,t)," Entries"),l.a.createElement(ie.a,{variant:"body2",component:"p",className:a.bot},"Entered in total")):l.a.createElement(Ke.a,null))))},Ft=a(594),Bt=function(e){Object(Ft.a)(e);var t=Ht(),a=Object(o.useState)(""),n=Object(E.a)(a,2),r=n[0],i=n[1];Object(o.useEffect)((function(){c()}),[]);var c=function(){fetch("https://ranmoji.herokuapp.com/emojis/api/v.1.0/").then((function(e){e.json().then((function(e){i(String.fromCodePoint(parseInt(e.emoji.split("").slice(3,8).join(""),16)))}))}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{className:t.cards},l.a.createElement(dt.a,null,l.a.createElement(ue.a,{size:"small",onClick:function(){c()}},l.a.createElement(ie.a,{variant:"h3"},r)),l.a.createElement(ie.a,{variant:"body2",component:"p"},"A random emoji to brighten your day"))))},Wt=function(e){var t=e.totalDuration,a=Ht();return l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{className:a.cards},l.a.createElement(dt.a,null,void 0!==t?l.a.createElement(l.a.Fragment,null,l.a.createElement(ie.a,{variant:"h5",component:"h2",className:a.top},l.a.createElement("b",null,t)," minutes"),l.a.createElement(ie.a,{variant:"body2",component:"p",className:a.bot},"Logged in total")):l.a.createElement(Ke.a,null))))};function Pt(){var e=Object(w.a)(["\n  display: flex;\n  min-height: 100%;\n  min-width: 100%;\n"]);return Pt=function(){return e},e}var Ht=Object(ae.a)((function(e){return Object(ne.a)({root:{flexGrow:1},cards:{textAlign:"center",height:115,whiteSpace:"nowrap"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},top:{marginTop:12},bot:{marginBottom:12},paper:{padding:e.spacing(2)},headers:{textAlign:"left",paddingLeft:20,paddingTop:15},widgets:{position:"absolute",width:"100%",height:"100%",paddingBottom:15}})})),Rt=ce.b.div(Pt()),_t=function(){var e,t=Z(),a=t.data,n=t.loading,c=Ht(),u=P(),s=Object(E.a)(u,1)[0],d=Y(),m=d.loading,p=d.data,g=F(),f=g.loading,b=g.data,h=Object(o.useState)([]),y=Object(E.a)(h,2),v=y[0],w=y[1],O=Object(o.useState)(void 0),j=Object(E.a)(O,2),x=j[0],k=j[1],C=Object(o.useState)(void 0),S=Object(E.a)(C,2),I=S[0],A=S[1];Object(o.useEffect)((function(){if(!m&&!f&&p&&p.getAllUserEntries&&b&&b.getUserCategories)if(w(function(e,t){if(0!==e.length){for(var a=it(e,t),n=[],r=function(e){for(var r={id:t.find((function(t){return t.id===a[e][0].categoryId})).description,color:"",data:[]},i=0;i<12;i++)r.data.push({x:nt[i],y:rt(a[e],i)});n.push(r)},i=0;i<a.length;i++)r(i);return n}}(p.getAllUserEntries,b.getUserCategories)),0===p.getAllUserEntries.length)A(0),k(0);else{var e=p.getAllUserEntries.reduce((function(e,t){return{title:"",id:0,date:"",notes:"",categoryId:0,duration:e.duration+t.duration}})).duration;A(e),k(p.getAllUserEntries.length)}}),[p,b,m,f]);var N=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{categoryId:t.categoryId,title:t.title,notes:t.notes,duration:t.duration,date:at(new Date(t.date))},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:M,data:{getUserCategories:a.createEntry.categories}}),e.writeQuery({query:Q,data:{getAllUserEntries:a.createEntry.entries}})}});case 3:if(e.sent){e.next=7;break}return alert("Failed to add."),e.abrupt("return");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement(Rt,null,l.a.createElement("div",{className:c.root},l.a.createElement(re.a,{container:!0,spacing:3},l.a.createElement(re.a,{item:!0,xs:12},n?"":l.a.createElement(ie.a,{variant:"h4"},"Welcome back, ",null===a||void 0===a||null===(e=a.me)||void 0===e?void 0:e.firstName)),l.a.createElement(re.a,{item:!0,xs:3,sm:3,md:3,lg:3,xl:3},l.a.createElement(oe.a,{className:c.paper},l.a.createElement(ie.a,{variant:"h6",component:"h4"},"Quick-add Journal Entry"),l.a.createElement(Me,{onEdit:T,onSubmit:N}))),l.a.createElement(re.a,{item:!0,xs:9},l.a.createElement(re.a,{container:!0,spacing:3},l.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4,style:{textAlign:"center"}},l.a.createElement(Mt,{numEntries:x})),l.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4},l.a.createElement(Wt,{totalDuration:I})),l.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4},l.a.createElement(Bt,null)),l.a.createElement(re.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},l.a.createElement(le.a,null,l.a.createElement(ie.a,{variant:"h6",component:"h4",className:c.headers},"Entries in 2020"),l.a.createElement("div",{style:{position:"relative",height:392}},l.a.createElement("div",{className:c.widgets},l.a.createElement(He,{data:v}))))))),l.a.createElement(re.a,{item:!0,xs:8,sm:8,md:8,lg:8,xl:8},l.a.createElement(le.a,null,l.a.createElement(ie.a,{variant:"h6",component:"h4",className:c.headers},"Entries per day"),l.a.createElement("div",{style:{position:"relative",height:273}},l.a.createElement("div",{className:c.widgets},l.a.createElement(zt,{activeCategory:void 0,entries:null===p||void 0===p?void 0:p.getAllUserEntries,maxHeight:250,start:"2020-02-01",end:"2020-12-31"}))))),l.a.createElement(re.a,{item:!0,xs:4,sm:4,md:4,lg:4,xl:4},l.a.createElement(le.a,{style:{height:320,overflow:"auto"}},l.a.createElement(ie.a,{variant:"h6",component:"h4",className:c.headers},"Top 5 Categories"),l.a.createElement(Ze,{categoryList:null===b||void 0===b?void 0:b.getUserCategories}))))))},Jt=a(327),Qt=he.b({email:he.d().email().required("Email must be filled out."),password:he.d().required("Password must be filled out.")}),Yt=function(e){var t=e.placeholder,a=e.type,n=Object(Jt.a)(e,["placeholder","type"]),r=Object(se.d)(n),i=Object(E.a)(r,2),l=i[0],c=i[1],u=c.error&&c.touched?c.error:"";return o.createElement(be.a,Object.assign({label:t,variant:"outlined",fullWidth:!0,type:a||"text"},l,{error:""!==u,helperText:u}))},Vt=Object(ae.a)((function(e){return Object(ne.a)({root:{width:500},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),Gt=function(e){var t=e.onSubmit,a=Vt();return o.createElement(o.Fragment,null,o.createElement(se.c,{initialValues:{email:"",password:""},validationSchema:Qt,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.setSubmitting,n.resetForm,i(!0),t(a),i(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return o.createElement(se.b,null,o.createElement("div",{className:a.root},o.createElement(oe.a,{className:a.paper},o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Yt,{placeholder:"email",name:"email"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(Yt,{placeholder:"password",name:"password",type:"password"}))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},o.createElement(ue.a,{disabled:t,type:"submit",variant:"outlined"},"Login"))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},o.createElement(y.b,{to:"/signup",style:{textDecoration:"none"}},"Sign Up"))))))})))},Kt=a(894),Xt=a(901),Zt=a(893),ea=a(486),ta=a(415),aa=a.n(ta),na=a(596),ra=a.n(na),ia=a(595),oa=a.n(ia),la=Object(ae.a)((function(e){return Object(ne.a)({root:{display:"flex",flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,background:e.palette.secondary.light},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,paddingTop:6}})})),ca=function(){var e,t=Z(),a=t.data,n=t.loading,c=s.useMutation(K,e),u=Object(E.a)(c,2),d=u[0],p=u[1].client,g=la(),f=Object(o.useState)(!1),b=Object(E.a)(f,2),h=b[0],v=b[1],w=function(e){return s.useMutation(te,e)}(),O=Object(E.a)(w,1)[0],j=void 0;!n&&a&&a.me&&(j=a.me);var x=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=6;break}return e.next=4,k("light");case 4:e.next=8;break;case 6:return e.next=8,k("dark");case 8:v(!h),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!n&&a&&void 0!==a.me&&null!==a.me&&("light"===a.me.theme&&v(!1),"dark"===a.me.theme&&v(!0))}),[n]);var k=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O({variables:{theme:t},update:function(e,t){var a=t.data;if(!a)return null;var n={id:a.updateUserTheme.id,email:a.updateUserTheme.email,firstName:a.updateUserTheme.firstName,lastName:a.updateUserTheme.lastName,theme:"light"===a.updateUserTheme.theme?"dark":"light"};e.writeQuery({query:X,data:{me:n}})}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:g.root},l.a.createElement(Zt.a,{position:"fixed",className:g.appBar},l.a.createElement(ea.a,null,l.a.createElement(ie.a,{variant:"h6",className:g.title},void 0!==j?l.a.createElement(y.b,{to:"/ok/dashboard",style:{textDecoration:"none",color:"white"}},l.a.createElement(aa.a,{fontSize:"large"})):l.a.createElement(y.b,{to:"/",style:{textDecoration:"none",color:"white"}},l.a.createElement(aa.a,{fontSize:"large"}))),void 0!==j?l.a.createElement(l.a.Fragment,null,h?l.a.createElement(oa.a,{color:"secondary"}):l.a.createElement(ra.a,{color:"inherit"}),l.a.createElement(ut.a,{checked:h,onChange:x}),l.a.createElement(ue.a,{variant:"contained",onClick:Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.next=4,p.resetStore();case 4:m(""),window.location.href="/";case 6:case"end":return e.stop()}}),e)})))},"Logout")):l.a.createElement(ue.a,{variant:"contained"},l.a.createElement(y.b,{to:"/login",style:{textDecoration:"none",color:"black"}},"Login")))))},ua=a(597),sa=a.n(ua);function da(){var e=Object(w.a)(["\n  height: 100vh;\n  width: 100vw;\n  padding-top: 20px;\n  overflow-x: hidden;\n  overflow-y: hidden;\n"]);return da=function(){return e},e}var ma=ce.b.div(da()),pa=Object(ae.a)((function(e){return Object(ne.a)({gridContainer:{height:"100vh",background:"url(".concat(sa.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},gridItem:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw"},paper:{}})})),ga=function(e){var t=e.children,a=e.page,n=pa();return l.a.createElement(l.a.Fragment,null,l.a.createElement(ca,null),l.a.createElement(Kt.a,null),l.a.createElement(ma,null,l.a.createElement(re.a,{container:!0,className:n.gridContainer},l.a.createElement(Xt.a,{only:["xs","sm","md"]},l.a.createElement(re.a,{item:!0,lg:6,xl:6,className:n.gridItem,style:{alignItems:"flex-start",overflowY:"scroll"}},l.a.createElement(re.a,{container:!0,direction:"column",alignItems:"center",spacing:4,style:{maxWidth:650,paddingTop:175,paddingBottom:175}},l.a.createElement(re.a,{item:!0},l.a.createElement(ie.a,{variant:"h1",style:{color:"white",textAlign:"center"}},"Time Journal")),l.a.createElement(re.a,{item:!0},l.a.createElement(ie.a,{variant:"h6",style:{color:"white",textAlign:"center"}},"An application to keep track of where you spend your time.")),l.a.createElement(re.a,{item:!0},l.a.createElement(ie.a,{variant:"body1",style:{color:"white",textAlign:"left"}},l.a.createElement("br",null),"Have you ever had a week go by and by the end of it, realize that you have no idea what you did that week? By keeping track of how we spend our time, we can take control of our actions to live more productive and well-balanced lives.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"Why Journaling?")),l.a.createElement("br",null)," Research has shown that journaling can have powerful mental health benefits and act as a documentation tool for everyday life. Time Journal takes journaling a step further by allowing you to record how much time you spend on the activities and organize them into meaningful categories."," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"How does it work?")),l.a.createElement("br",null)," You will be able to create categories for your activities and see how much time you spend on each one. This application will combine common approaches to journaling and budgeting to create visibility into where your time goes.",l.a.createElement("br",null),"Have you ever had a week go by and by the end of it, realize that you have no idea what you did that week? By keeping track of how we spend our time, we can take control of our actions to live more productive and well-balanced lives.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"Why Journaling?")),l.a.createElement("br",null)," Research has shown that journaling can have powerful mental health benefits and act as a documentation tool for everyday life. Time Journal takes journaling a step further by allowing you to record how much time you spend on the activities and organize them into meaningful categories."," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"How does it work?")),l.a.createElement("br",null)," You will be able to create categories for your activities and see how much time you spend on each one. This application will combine common approaches to journaling and budgeting to create visibility into where your time goes.",l.a.createElement("br",null),"Have you ever had a week go by and by the end of it, realize that you have no idea what you did that week? By keeping track of how we spend our time, we can take control of our actions to live more productive and well-balanced lives.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"Why Journaling?")),l.a.createElement("br",null)," Research has shown that journaling can have powerful mental health benefits and act as a documentation tool for everyday life. Time Journal takes journaling a step further by allowing you to record how much time you spend on the activities and organize them into meaningful categories."," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"How does it work?")),l.a.createElement("br",null)," You will be able to create categories for your activities and see how much time you spend on each one. This application will combine common approaches to journaling and budgeting to create visibility into where your time goes.",l.a.createElement("br",null),"Have you ever had a week go by and by the end of it, realize that you have no idea what you did that week? By keeping track of how we spend our time, we can take control of our actions to live more productive and well-balanced lives.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"Why Journaling?")),l.a.createElement("br",null)," Research has shown that journaling can have powerful mental health benefits and act as a documentation tool for everyday life. Time Journal takes journaling a step further by allowing you to record how much time you spend on the activities and organize them into meaningful categories."," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"How does it work?")),l.a.createElement("br",null)," You will be able to create categories for your activities and see how much time you spend on each one. This application will combine common approaches to journaling and budgeting to create visibility into where your time goes.",l.a.createElement("br",null),"Have you ever had a week go by and by the end of it, realize that you have no idea what you did that week? By keeping track of how we spend our time, we can take control of our actions to live more productive and well-balanced lives.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"Why Journaling?")),l.a.createElement("br",null)," Research has shown that journaling can have powerful mental health benefits and act as a documentation tool for everyday life. Time Journal takes journaling a step further by allowing you to record how much time you spend on the activities and organize them into meaningful categories."," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("i",null,l.a.createElement("b",null,"How does it work?")),l.a.createElement("br",null)," You will be able to create categories for your activities and see how much time you spend on each one. This application will combine common approaches to journaling and budgeting to create visibility into where your time goes."))))),l.a.createElement(re.a,{item:!0,xs:12,sm:12,md:12,lg:6,xl:6,className:n.gridItem},l.a.createElement(re.a,{container:!0,direction:"column",alignItems:"center",spacing:4,style:{paddingBottom:30}},l.a.createElement(re.a,{item:!0},l.a.createElement(ie.a,{variant:"h4",style:{color:"white",maxWidth:600,textAlign:"center"}},a)),l.a.createElement(re.a,{item:!0},t))))))},fa=function(e){var t=e.history,a=G(),n=Object(E.a)(a,1)[0],o=function(){var e=Object(i.a)(r.a.mark((function e(a){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({variables:{email:a.email,password:a.password},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:X,data:{me:a.login.user}})}});case 3:(i=e.sent)&&i.data&&m(i.data.login.accessToken),t.push("/ok/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Invalid credentials.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(ga,{page:"Login"},l.a.createElement(Gt,{onSubmit:o}))},ba=he.b({firstName:he.d().required("First name must be filled out."),email:he.d().email().required("Email must be filled out."),password:he.d().required("Password must be filled out."),passwordRepeat:he.d().required("Please re-enter password.").oneOf([he.c("password"),""],"Passwords must match")}),ha=function(e){var t=e.placeholder,a=e.type,n=Object(Jt.a)(e,["placeholder","type"]),r=Object(se.d)(n),i=Object(E.a)(r,2),l=i[0],c=i[1],u=c.error&&c.touched?c.error:"";return o.createElement(be.a,Object.assign({label:t,variant:"outlined",fullWidth:!0,type:a},l,{error:""!==u,helperText:u}))},Ea=Object(ae.a)((function(e){return Object(ne.a)({root:{width:600},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),ya=function(e){var t=e.onSubmit,a=Ea();return o.createElement("div",null,o.createElement(se.c,{initialValues:{firstName:"",lastName:"",password:"",passwordRepeat:"",email:""},validationSchema:ba,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=n.setSubmitting)(!0),t(a),i(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return o.createElement(se.b,null,o.createElement("div",{className:a.root},o.createElement(oe.a,{className:a.paper},o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(ha,{placeholder:"first name",name:"firstName"})),o.createElement(re.a,{item:!0,xs:!0},o.createElement(ha,{placeholder:"last name",name:"lastName"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(ha,{placeholder:"email",name:"email"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(ha,{placeholder:"password",name:"password",type:"password"}))),o.createElement(re.a,{container:!0,spacing:3},o.createElement(re.a,{item:!0,xs:!0},o.createElement(ha,{placeholder:"re-enter password",name:"passwordRepeat",type:"password"}))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},o.createElement(ue.a,{disabled:t,type:"submit",variant:"outlined"},"Sign up"))),o.createElement(re.a,{container:!0,spacing:3,justify:"center"},o.createElement(re.a,{item:!0},o.createElement(y.b,{to:"/login",style:{textDecoration:"none"}},"Back to Log In"))))))})))},va=function(e){var t,a=e.history,n=G(),o=Object(E.a)(n,1)[0],c=s.useMutation(ee,t),u=Object(E.a)(c,1)[0],d=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({variables:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password}});case 3:return e.next=5,o({variables:{email:t.email,password:t.password},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:X,data:{me:a.login.user}})}});case 5:(n=e.sent)&&n.data&&m(n.data.login.accessToken),a.push("/ok/dashboard"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(ga,{page:"Sign up"},l.a.createElement(ya,{onSubmit:d}))},wa=a(112),Oa=a(895),ja=a(601),xa=a.n(ja),ka=a(598),Ca=a.n(ka),Sa=a(599),Ia=a.n(Sa),Aa=a(600),Na=a.n(Aa),Ta=Object(ae.a)((function(e){return Object(ne.a)({root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},link:{textDecoration:"none",color:e.palette.text.primary},iconic:{color:e.palette.secondary.main}})})),Ua=function(){var e=Ta(),t=Z(),a=t.data,n=t.loading,r=void 0;!n&&a&&a.me&&(r=a.me);var i=["/ok/dashboard"],o=["/ok/create_entry","/ok/category_list","/ok/settings"];return l.a.createElement("div",{className:e.root},l.a.createElement(Kt.a,null),n||void 0===r?"":l.a.createElement("div",null,l.a.createElement(wa.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper}},l.a.createElement(ea.a,null),l.a.createElement("div",{className:e.drawerContainer},l.a.createElement(_e.a,null,["Dashboard"].map((function(t,a){return l.a.createElement(y.b,{to:i[a],className:e.link,key:a},l.a.createElement(Je.a,{button:!0,key:a},l.a.createElement(Oa.a,{className:e.iconic},l.a.createElement(xa.a,null)),l.a.createElement(Ye.a,{primary:t})))}))),l.a.createElement(Qe.a,null),l.a.createElement(_e.a,null,["Journal Entries","Categories"].map((function(t,a){return l.a.createElement(y.b,{to:o[a],className:e.link,key:a},l.a.createElement(Je.a,{button:!0,key:a},l.a.createElement(Oa.a,{className:e.iconic},function(e){switch(e){case 0:return l.a.createElement(Ca.a,null);case 1:return l.a.createElement(Ia.a,null);default:return l.a.createElement(Na.a,null)}}(a)),l.a.createElement(Ye.a,{primary:t})))})))))))};function Da(){var e=Object(w.a)(["\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n"]);return Da=function(){return e},e}function $a(){var e=Object(w.a)(["\n  padding-top: 90px;\n  padding-left: 265px;\n  padding-right: 25px;\n  display: flex;\n  min-height: 100%;\n"]);return $a=function(){return e},e}var La=ce.b.div($a()),qa=Object(ce.a)(Da()),za=function(e){var t=e.children;return l.a.createElement(l.a.Fragment,null,l.a.createElement(La,null,l.a.createElement(Kt.a,null),l.a.createElement(qa,null),t),l.a.createElement(Ua,null),l.a.createElement(ca,null))},Ma=a(896),Fa=a(602),Ba=a.n(Fa),Wa=a(560),Pa=a(417),Ha=a.n(Pa),Ra="#0a80cc",_a="#D8EEFC",Ja="#F35B50",Qa=function(){var e,t=Object(o.useState)([]),a=Object(E.a)(t,2),n=a[0],c=a[1],u=Object(o.useState)([]),d=Object(E.a)(u,2),m=d[0],p=d[1],g=Object(o.useState)(void 0),f=Object(E.a)(g,2),b=f[0],h=f[1],v=Y(),w=v.loading,O=v.data,j=F(),x=j.loading,k=j.data,C=s.useMutation(R,e),S=Object(E.a)(C,1)[0],I=Object(Ce.b)(),A=Object(Ce.c)((function(e){return e.editEntry.editEntry})),N=Object(Ee.a)();Object(o.useEffect)((function(){h(A)}),[A]);var T=[{name:"Title",options:{filter:!0}},{name:"Date",options:{filter:!0}},{name:"Duration",options:{filter:!0}},{name:"Category",options:{filter:!0,customBodyRender:function(e,t,a){var n;return l.a.createElement(y.b,{to:"/ok/category_list",style:{textDecoration:"none"}},l.a.createElement(Wa.a,{color:"primary",style:{color:N.palette.text.primary},variant:"outlined",size:"small",label:null===(n=m.find((function(t){return parseInt(e)===t.id})))||void 0===n?void 0:n.description,onClick:function(){var t=m.find((function(t){return t.id===parseInt(e)}));I(Se(t))}}))}}},{name:"Additional Notes",options:{filter:!0}},{name:"Edit",options:{filter:!1,sort:!1,customBodyRender:function(e,t,a){return l.a.createElement("div",null,b&&parseInt(e)===b.id?l.a.createElement(pt.a,{"aria-label":"edit",size:"small"},l.a.createElement(Ha.a,{style:{color:Ja}})):l.a.createElement(pt.a,{"aria-label":"edit",size:"small",onClick:function(){var t=O.getAllUserEntries.find((function(t){return parseInt(e)===t.id}));console.log(A),I(Ie(t))}},l.a.createElement(Ha.a,{style:{color:N.palette.text.secondary}})))}}}],U=Object(o.useState)(!1),D=Object(E.a)(U,2),$=D[0],L=D[1],q={elevation:1,print:!1,onRowsDelete:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(L(!0),a=O.getAllUserEntries.slice().reverse(),n=[],i=0;i<t.data.length;i++)n.push(a[t.data[i].dataIndex].id);return e.next=6,z(n);case 6:L(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),textLabels:{body:{noMatch:"No entries found"}},customSort:function(e,t,a){switch(t){case 1:return e.sort((function(e,n){return(new Date(e.data[t]).getTime()<new Date(n.data[t]).getTime()?-1:1)*("desc"===a?1:-1)}));case 2:return e.sort((function(e,n){return(e.data[t]<n.data[t]?-1:1)*("desc"===a?1:-1)}));case 3:return e.sort((function(e,n){var r=e.data[t],i=n.data[t];return(m.find((function(e){return e.id===r})).description.charAt(0).toUpperCase().charCodeAt(0)<m.find((function(e){return e.id===i})).description.charAt(0).toUpperCase().charCodeAt(0)?-1:1)*("desc"===a?1:-1)}));default:return e.sort((function(e,n){return(e.data[t].length<n.data[t].length?-1:1)*("desc"===a?1:-1)}))}}},z=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({variables:{idArray:t},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:M,data:{getUserCategories:a.deleteEntry.categories}}),e.writeQuery({query:Q,data:{getAllUserEntries:a.deleteEntry.entries}})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!x&&k&&k.getUserCategories&&p(k.getUserCategories)}),[k]),Object(o.useEffect)((function(){B()}),[O]);var B=function(){if(!w&&O&&O.getAllUserEntries){var e=[];O.getAllUserEntries.map((function(t){var a=[];a.push(t.title),a.push(t.date),a.push(t.duration),a.push(t.categoryId),a.push(t.notes?t.notes:""),a.push(t.id),e.push(a)})),c(e.reverse())}},W=l.a.createElement("div",{style:{position:"absolute",zIndex:110,top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"rgba(255,255,255,0.8)"}},l.a.createElement(Ke.a,{size:24}));return l.a.createElement("div",{style:{position:"relative"}},$&&W,l.a.createElement(Ba.a,{title:"Entries",data:n,columns:T,options:q}))},Ya=a(900),Va=a(605),Ga=a.n(Va),Ka=a(604),Xa=a.n(Ka),Za=Object(ae.a)((function(e){return Object(ne.a)({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},button:{margin:e.spacing(1)}})})),en=function(){var e,t=Za(),a=Object(o.useState)(""),n=Object(E.a)(a,2),c=n[0],u=n[1],d=F(),m=d.loading,p=d.data,g=s.useMutation(z,e),f=Object(E.a)(g,1)[0];Object(o.useEffect)((function(){if(c&&!m&&p&&p.getUserCategories){for(var e=c.split(/\r\n|\r|\n/).join().split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/),t=0;t<e.length;t++){var a=e[t];if('"'===a.charAt(0)&&'"'===a.charAt(a.length-1)){var n,r=a.split('"'),i="",o=Object(tt.a)(r);try{for(o.s();!(n=o.n()).done;){var l=n.value;""!==l&&(i=i.concat(l))}}catch(y){o.e(y)}finally{o.f()}e[t]=i}}for(var u=[],s=0;s<e.length;){for(var d=[],g=0;g<6;g++,s++)d.push(e[s]);u.push(d)}for(var f=[],h=[],E=1;E<u.length;E++)f.push({id:0,title:u[E][0],date:at(new Date(u[E][1])),duration:parseInt(u[E][2]),categoryId:0,notes:u[E][4]}),h.push(u[E][3]);b(f,h)}}),[c]);var b=function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({variables:{entryArray:t,categoryArray:a},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:M,data:{getUserCategories:a.batchUploadJournalEntry.categories}}),e.writeQuery({query:Q,data:{getAllUserEntries:a.batchUploadJournalEntry.entries}})}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0+": this is on the frontend");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:t.root},l.a.createElement(ue.a,{variant:"outlined",color:"inherit",className:t.button,startIcon:l.a.createElement(Xa.a,null),component:"span",onClick:function(){window.open("https://drive.google.com/file/d/1dIkm_CguJ2GwPK9yekfVuJ85wpd_B06E/view?usp=sharing")}},"Open Template"),l.a.createElement("input",{accept:".csv",className:t.input,id:"contained-button-file",multiple:!0,onChange:function(e){return function(e){if(e.currentTarget.files){var t=e.currentTarget.files[0],a=new FileReader;a.onload=function(){u(a.result)},a.readAsText(t)}}(e)},type:"file"}),l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(ue.a,{variant:"outlined",color:"inherit",className:t.button,startIcon:l.a.createElement(Ga.a,null),component:"span"},"Upload CSV")))},tn=Object(ae.a)((function(e){return Object(ne.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",width:"100%",color:e.palette.text.secondary},button:{textAlign:"center"}})}));function an(e){return l.a.createElement(Ya.a,Object.assign({elevation:6,variant:"filled"},e))}var nn=function(){var e,t=tn(),a=P(),n=Object(E.a)(a,1)[0],o=s.useMutation(J,e),c=Object(E.a)(o,1)[0],u=l.a.useState(!1),d=Object(E.a)(u,2),m=d[0],p=d[1],g=function(){p(!0)},f=function(e,t){"clickaway"!==t&&p(!1)},b=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({variables:{categoryId:t.categoryId,title:t.title,notes:t.notes,duration:t.duration,date:at(new Date(t.date))},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:M,data:{getUserCategories:a.createEntry.categories}}),e.writeQuery({query:Q,data:{getAllUserEntries:a.createEntry.entries}})}});case 3:if(e.sent){e.next=7;break}return alert("Failed to add."),e.abrupt("return");case 7:g(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c({variables:{id:t,categoryId:a.categoryId,title:a.title,notes:a.notes,duration:a.duration,date:at(new Date(a.date))},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:M,data:{getUserCategories:a.editEntry.categories}}),e.writeQuery({query:Q,data:{getAllUserEntries:a.editEntry.entries}})}});case 3:if(e.sent){e.next=7;break}return alert("Failed to edit."),e.abrupt("return");case 7:g(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:t.root},l.a.createElement(re.a,{container:!0,spacing:3},l.a.createElement(re.a,{item:!0,xs:3},l.a.createElement(ie.a,{variant:"h4"},"Journal Entries")),l.a.createElement(re.a,{item:!0,xs:9,style:{textAlign:"right"}},l.a.createElement(en,null)),l.a.createElement(re.a,{item:!0,xs:!0,sm:12,md:12,lg:3,xl:3},l.a.createElement(oe.a,{className:t.paper},l.a.createElement(Me,{onSubmit:b,onEdit:h}))),l.a.createElement(re.a,{item:!0,xs:!0,sm:12,md:12,lg:9,xl:9},l.a.createElement(Qa,null))),l.a.createElement(Ma.a,{open:m,autoHideDuration:6e3,onClose:f},l.a.createElement(an,{onClose:f,severity:"success"},"Entry successfully added!")))},rn=a(541),on=Object(ye.a)({palette:{primary:{main:Ra,light:_a},secondary:{main:Ja,light:Ra}}}),ln=Object(ye.a)({palette:{primary:{main:Be.a[100],light:rn.a[900]},secondary:{main:Be.a[200],light:rn.a[900]},background:{default:"#151C1F",paper:Be.a[900]},text:{primary:"#ffffff",secondary:Be.a[200]}}}),cn=function(){var e=Object(o.useState)(on),t=Object(E.a)(e,2),a=t[0],n=t[1],r=Z(),i=r.loading,c=r.data;Object(o.useEffect)((function(){u()}),[c,i]);var u=function(){i||void 0===c||null===c.me||void 0===c.me||("light"===c.me.theme&&n(on),"dark"===c.me.theme&&n(ln))};return l.a.createElement(ve.a,{theme:a},l.a.createElement(y.a,null,l.a.createElement(v.d,null,l.a.createElement(v.b,{exact:!0,path:"/"},l.a.createElement(v.a,{to:"/login"})),l.a.createElement(v.b,{path:"/login",component:fa}),l.a.createElement(v.b,{path:"/signup",component:va}),l.a.createElement(v.b,{path:"/ok/dashboard",render:function(){return l.a.createElement(za,null,l.a.createElement(_t,null))}}),l.a.createElement(v.b,{path:"/ok/create_entry",render:function(){return l.a.createElement(za,null,l.a.createElement(nn,null))}}),l.a.createElement(v.b,{path:"/ok/category_list",render:function(){return l.a.createElement(za,null,l.a.createElement(qt,null))}}))))},un=function(){var e=Object(o.useState)(!0),t=Object(E.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){fetch("/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(i.a)(r.a.mark((function e(t){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,i=a.accessToken,m(i),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),a?l.a.createElement("div",null,"loading..."):l.a.createElement(cn,null)},sn=a(153),dn=a(111),mn={selectedCategory:void 0},pn={editEntry:void 0},gn={view:!1},fn={theme:!1},bn=Object(sn.b)({activeCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_CATEGORY":return Object(dn.a)(Object(dn.a)({},e),{},{selectedCategory:t.payload});default:return e}},editEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ENTRY_TO_EDIT":return Object(dn.a)(Object(dn.a)({},e),{},{editEntry:t.payload});default:return e}},calendarView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CALENDAR_VIEW":return Object(dn.a)(Object(dn.a)({},e),{},{view:t.payload});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return Object(dn.a)(Object(dn.a)({},e),{},{theme:t.payload});default:return e}}}),hn=Object(sn.c)(bn),En=new s.InMemoryCache({}),yn=new s.ApolloLink((function(e,t){return new s.Observable((function(a){var n;return Promise.resolve(e).then((function(e){var t=p();t&&e.setContext({headers:{authorization:"bearer ".concat(t)}})})).then((function(){n=t(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})})).catch(a.error.bind(a)),function(){n&&n.unsubscribe()}}))})),vn=new s.ApolloClient({link:s.ApolloLink.from([new f.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=p();if(!e)return!0;try{var t=h()(e).exp;return!(Date.now()>=1e3*t)}catch(a){return!1}},fetchAccessToken:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/refresh_token",{method:"POST",credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleFetch:function(e){m(e)},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Object(g.a)((function(e){var t=e.graphQLErrors,a=e.networkError;console.log(t),console.log(a),t&&"Error: UNAUTHENTICATED"===t[0].message&&"/login"!==window.location.pathname&&(window.location.pathname="/")})),yn,new s.HttpLink({uri:"/graphql",credentials:"include"})]),cache:En});u.a.render(l.a.createElement(Ce.a,{store:hn},l.a.createElement(s.ApolloProvider,{client:vn},l.a.createElement(un,null))),document.getElementById("root"))}},[[658,1,2]]]);
//# sourceMappingURL=main.155cfaf3.chunk.js.map